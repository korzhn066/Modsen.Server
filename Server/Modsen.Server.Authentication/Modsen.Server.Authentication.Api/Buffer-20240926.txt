{"@timestamp":"2024-09-26T10:04:42.5561402+03:00","level":"Information","messageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","message":"User profile is available. Using '\"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys\"' as key repository and Windows DPAPI to encrypt keys at rest.","fields":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"@timestamp":"2024-09-26T10:04:42.7401368+03:00","level":"Information","messageTemplate":"Bus started: {HostAddress}","message":"Bus started: loopback://localhost/","fields":{"HostAddress":"loopback://localhost/","SourceContext":"MassTransit"}}
{"@timestamp":"2024-09-26T10:04:42.9236580+03:00","level":"Information","messageTemplate":"Now listening on: {address}","message":"Now listening on: \"http://localhost:5054\"","fields":{"address":"http://localhost:5054","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T10:04:42.9240419+03:00","level":"Information","messageTemplate":"Application started. Press Ctrl+C to shut down.","message":"Application started. Press Ctrl+C to shut down.","fields":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T10:04:42.9241130+03:00","level":"Information","messageTemplate":"Hosting environment: {EnvName}","message":"Hosting environment: \"Development\"","fields":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T10:04:42.9241389+03:00","level":"Information","messageTemplate":"Content root path: {ContentRoot}","message":"Content root path: \"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api\"","fields":{"ContentRoot":"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T10:04:50.5539830+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU64:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:04:50.9370716+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - 200 null \"text/html;charset=utf-8\" 386.865ms","fields":{"ElapsedMilliseconds":386.865,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU64:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:04:50.9413745+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU64:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:04:50.9429069+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - 200 13800 \"application/javascript; charset=utf-8\" 1.6246ms","fields":{"ElapsedMilliseconds":1.6246,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13800,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU64:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:04:50.9496619+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU64:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:04:50.9975270+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - 200 null \"text/javascript; charset=UTF-8\" 47.8344ms","fields":{"ElapsedMilliseconds":47.8344,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU64:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:04:51.1349705+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU64:00000004","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:04:51.2663175+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - 200 null \"application/json;charset=utf-8\" 131.3249ms","fields":{"ElapsedMilliseconds":131.3249,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU64:00000004","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:06:50.2892369+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:50.2927061+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU66:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:50.2934306+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 4.2219ms","fields":{"ElapsedMilliseconds":4.2219,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:50.2946622+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU64:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:06:50.2976116+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU64:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:06:50.2989112+03:00","level":"Warning","messageTemplate":"Failed to determine the https port for redirect.","message":"Failed to determine the https port for redirect.","fields":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN6TV5VLGU64:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:06:51.0856792+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.09.2024 16:47:35', Current time (UTC): '26.09.2024 7:06:51'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6TV5VLGU64:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:06:51.0933465+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.09.2024 16:47:35', Current time (UTC): '26.09.2024 7:06:51'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.09.2024 16:47:35', Current time (UTC): '26.09.2024 7:06:51'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6TV5VLGU64:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:06:51.0950782+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU64:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:06:51.1072296+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"179637e2-cfed-4ed0-9d0a-ac5315d504f0","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU64:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:06:52.9028706+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:00000002","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:52.9039258+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU66:00000002","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:52.9041335+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 1.3162ms","fields":{"ElapsedMilliseconds":1.3162,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:00000002","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:52.9051220+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:52.9053363+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU66:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:52.9067024+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.09.2024 16:47:35', Current time (UTC): '26.09.2024 7:06:52'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6TV5VLGU66:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:52.9069798+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.09.2024 16:47:35', Current time (UTC): '26.09.2024 7:06:52'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.09.2024 16:47:35', Current time (UTC): '26.09.2024 7:06:52'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6TV5VLGU66:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:52.9102137+03:00","level":"Information","messageTemplate":"Authorization failed. {Reason}","message":"Authorization failed. \"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)\"","fields":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN6TV5VLGU66:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:52.9148012+03:00","level":"Information","messageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","message":"AuthenticationScheme: \"Bearer\" was challenged.","fields":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6TV5VLGU66:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:52.9155147+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 401 0 null 10.3716ms","fields":{"ElapsedMilliseconds":10.3716,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:54.0912009+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"75\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"75","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"179637e2-cfed-4ed0-9d0a-ac5315d504f0","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU64:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:06:54.1841492+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"179637e2-cfed-4ed0-9d0a-ac5315d504f0","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU64:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:06:54.2604158+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"5\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"5","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"179637e2-cfed-4ed0-9d0a-ac5315d504f0","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU64:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:06:54.2724988+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"179637e2-cfed-4ed0-9d0a-ac5315d504f0","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU64:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:06:54.2848223+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"179637e2-cfed-4ed0-9d0a-ac5315d504f0","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU64:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:06:54.2874999+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU67:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.2877709+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU67:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.2887889+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 3178.6518ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":3178.6518,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6TV5VLGU64:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:06:54.2892134+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.09.2024 16:47:35', Current time (UTC): '26.09.2024 7:06:54'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6TV5VLGU67:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.2894761+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU64:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:06:54.2895036+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.09.2024 16:47:35', Current time (UTC): '26.09.2024 7:06:54'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.09.2024 16:47:35', Current time (UTC): '26.09.2024 7:06:54'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6TV5VLGU67:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.2896082+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU67:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.2899549+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"179637e2-cfed-4ed0-9d0a-ac5315d504f0","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU67:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.2979937+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 4003.3168ms","fields":{"ElapsedMilliseconds":4003.3168,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU64:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU64"}}
{"@timestamp":"2024-09-26T10:06:54.3342409+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"179637e2-cfed-4ed0-9d0a-ac5315d504f0","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU67:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.3355702+03:00","level":"Error","messageTemplate":"User has invalid refresh token","message":"User has invalid refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"179637e2-cfed-4ed0-9d0a-ac5315d504f0","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU67:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.5392651+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 249.1609ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":249.1609,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6TV5VLGU67:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.5399535+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU67:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.7902664+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 400 null \"application/json\" 502.7778ms","fields":{"ElapsedMilliseconds":502.7778,"StatusCode":400,"ContentType":"application/json","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU67:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.7910368+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU67:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.7915166+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU67:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.7922601+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.09.2024 16:47:35', Current time (UTC): '26.09.2024 7:06:54'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6TV5VLGU67:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.7925825+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.09.2024 16:47:35', Current time (UTC): '26.09.2024 7:06:54'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '25.09.2024 16:47:35', Current time (UTC): '26.09.2024 7:06:54'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6TV5VLGU67:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.7926411+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU67:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.7927112+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"179637e2-cfed-4ed0-9d0a-ac5315d504f0","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU67:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.8094010+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"179637e2-cfed-4ed0-9d0a-ac5315d504f0","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU67:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.8098872+03:00","level":"Error","messageTemplate":"User has invalid refresh token","message":"User has invalid refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"179637e2-cfed-4ed0-9d0a-ac5315d504f0","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU67:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.8510130+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 58.2435ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":58.2435,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6TV5VLGU67:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.8512761+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU67:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:54.8809682+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 400 null \"application/json\" 90.0156ms","fields":{"ElapsedMilliseconds":90.0156,"StatusCode":400,"ContentType":"application/json","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU67:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6TV5VLGU67"}}
{"@timestamp":"2024-09-26T10:06:55.3284161+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:00000004","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:55.3287475+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU66:00000004","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:55.3333336+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU66:00000004","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:55.3436823+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000004","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:55.4140785+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000004","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:55.4190871+03:00","level":"Warning","messageTemplate":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","message":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","fields":{"EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000004","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:55.4193402+03:00","level":"Warning","messageTemplate":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","message":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","fields":{"EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000004","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:55.4239848+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000004","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:55.4545363+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"3\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"3","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000004","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:55.4636051+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000004","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:55.4644895+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000004","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:55.4703337+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 126.5506ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":126.5506,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6TV5VLGU66:00000004","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:55.4704318+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU66:00000004","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:55.4706166+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 142.2227ms","fields":{"ElapsedMilliseconds":142.2227,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:00000004","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:57.8166195+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:57.8169217+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU66:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:57.8194291+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU66:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:57.8196214+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:57.8209256+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:57.8298917+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"7\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"7","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:57.8326802+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:57.8344347+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:57.8348656+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:57.8351264+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 15.3963ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":15.3963,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6TV5VLGU66:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:57.8351881+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU66:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:57.8353214+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 18.9644ms","fields":{"ElapsedMilliseconds":18.9644,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:59.9986579+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:00000006","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:59.9988688+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU66:00000006","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:06:59.9991515+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 0.5613ms","fields":{"ElapsedMilliseconds":0.5613,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:00000006","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:00.0001635+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:00.0005843+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU66:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:00.0011003+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU66:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:00.0012548+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:00.0022249+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:00.0041381+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:00.0076288+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:00.0094274+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:00.0096970+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:00.0099164+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 8.586ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":8.586,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6TV5VLGU66:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:00.0099835+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU66:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:00.0102086+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 10.0928ms","fields":{"ElapsedMilliseconds":10.0928,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:01.5339229+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:00000008","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:01.5342050+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU66:00000008","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:01.5346484+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU66:00000008","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:01.5347926+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000008","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:01.5353204+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000008","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:01.5389594+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"2","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000008","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:01.5410830+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000008","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:01.5426427+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000008","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:01.5429544+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:00000008","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:01.5431472+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 8.2622ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":8.2622,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6TV5VLGU66:00000008","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:01.5431950+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU66:00000008","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:01.5433499+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 9.5079ms","fields":{"ElapsedMilliseconds":9.5079,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:00000008","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:11.3353721+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:00000009","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:11.3355499+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU66:00000009","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:11.3357075+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 0.3867ms","fields":{"ElapsedMilliseconds":0.3867,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:00000009","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:11.3365651+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:11.3367184+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU66:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:11.3373768+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU66:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:11.3375025+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:11.3381542+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:11.3412009+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:11.3431842+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:11.3441909+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:11.3444379+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:11.3446087+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 7.0496ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":7.0496,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6TV5VLGU66:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:11.3446605+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU66:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:11.3448199+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 8.2773ms","fields":{"ElapsedMilliseconds":8.2773,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:12.0431230+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:12.0433329+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU66:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:12.0438561+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU66:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:12.0441290+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:12.0446267+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:12.0478121+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"2","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:12.0497046+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:12.0509418+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:12.0512524+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:12.0514714+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 7.2378ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":7.2378,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6TV5VLGU66:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:12.0515439+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU66:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:12.0517266+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 8.6421ms","fields":{"ElapsedMilliseconds":8.6421,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:27.9133068+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:27.9134940+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU66:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:27.9136442+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 0.4521ms","fields":{"ElapsedMilliseconds":0.4521,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:27.9144648+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:27.9146659+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU66:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:27.9150078+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU66:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:27.9151012+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:27.9155837+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:27.9176717+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:27.9191232+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:27.9204889+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"0","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:27.9208473+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU66:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:27.9211277+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 5.9318ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":5.9318,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6TV5VLGU66:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:27.9212149+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU66:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:07:27.9215076+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 6.9534ms","fields":{"ElapsedMilliseconds":6.9534,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU66:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU66"}}
{"@timestamp":"2024-09-26T10:08:23.9212989+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/login\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU68:00000001","RequestPath":"/api/login","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:08:23.9217126+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU68:00000001","RequestPath":"/api/login","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:08:23.9219867+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/login\"\"\" - 204 null null 0.7828ms","fields":{"ElapsedMilliseconds":0.7828,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU68:00000001","RequestPath":"/api/login","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:08:23.9244683+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"POST\" \"http\"://\"localhost:5054\"\"\"\"/api/login\"\"\" - \"application/json\" 46","fields":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":46,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU69:00000001","RequestPath":"/api/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:08:23.9270129+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU69:00000001","RequestPath":"/api/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:08:23.9284977+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException","Message":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","Source":"Microsoft.IdentityModel.JsonWebTokens","StackTraceString":"   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2147024809,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6TV5VLGU69:00000001","RequestPath":"/api/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:08:23.9288179+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6TV5VLGU69:00000001","RequestPath":"/api/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:08:23.9290391+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"POST\" \"http\"://\"localhost:5054\"\"\"\"/api/login\"\"\" - 404 0 null 4.6051ms","fields":{"ElapsedMilliseconds":4.6051,"StatusCode":404,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU69:00000001","RequestPath":"/api/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:08:23.9294896+03:00","level":"Information","messageTemplate":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","message":"Request reached the end of the middleware pipeline without being handled by application code. Request path: \"POST\" \"http\"://\"localhost:5054\"\"\"\"/api/login\", Response status code: 404","fields":{"Method":"POST","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/login","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU69:00000001","RequestPath":"/api/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:08:36.2504898+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/login\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU68:00000002","RequestPath":"/api/login","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:08:36.2507615+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU68:00000002","RequestPath":"/api/login","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:08:36.2509511+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/login\"\"\" - 204 null null 0.5418ms","fields":{"ElapsedMilliseconds":0.5418,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU68:00000002","RequestPath":"/api/login","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:08:36.2517603+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"POST\" \"http\"://\"localhost:5054\"\"\"\"/api/login\"\"\" - \"application/json\" 46","fields":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":46,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU69:00000002","RequestPath":"/api/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:08:36.2519004+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU69:00000002","RequestPath":"/api/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:08:36.2523657+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException","Message":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","Source":"Microsoft.IdentityModel.JsonWebTokens","StackTraceString":"   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2147024809,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6TV5VLGU69:00000002","RequestPath":"/api/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:08:36.2525607+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6TV5VLGU69:00000002","RequestPath":"/api/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:08:36.2527120+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"POST\" \"http\"://\"localhost:5054\"\"\"\"/api/login\"\"\" - 404 0 null 0.9756ms","fields":{"ElapsedMilliseconds":0.9756,"StatusCode":404,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU69:00000002","RequestPath":"/api/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:08:36.2528264+03:00","level":"Information","messageTemplate":"Request reached the end of the middleware pipeline without being handled by application code. Request path: {Method} {Scheme}://{Host}{PathBase}{Path}, Response status code: {StatusCode}","message":"Request reached the end of the middleware pipeline without being handled by application code. Request path: \"POST\" \"http\"://\"localhost:5054\"\"\"\"/api/login\", Response status code: 404","fields":{"Method":"POST","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/login","StatusCode":404,"EventId":{"Id":16},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU69:00000002","RequestPath":"/api/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:05.0480538+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"POST\" \"http\"://\"localhost:5054\"\"\"\"/api/authentication/login\"\"\" - \"application/json\" 50","fields":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":50,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU69:00000003","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:05.0485776+03:00","level":"Information","messageTemplate":"CORS policy execution failed.","message":"CORS policy execution failed.","fields":{"EventId":{"Id":5,"Name":"PolicyFailure"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU69:00000003","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:05.0506169+03:00","level":"Information","messageTemplate":"Request origin {origin} does not have permission to access the resource.","message":"Request origin \"http://localhost:5054\" does not have permission to access the resource.","fields":{"origin":"http://localhost:5054","EventId":{"Id":6,"Name":"OriginNotAllowed"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU69:00000003","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:05.0516632+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU69:00000003","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:05.0556821+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Login\\\", controller = \\\"Authentication\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Modsen.Server.Authentication.Application.Models.Authentication.LoginModel)\" on controller \"Modsen.Server.Authentication.Api.Controllers.AuthenticationController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Login\", controller = \"Authentication\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Modsen.Server.Authentication.Application.Models.Authentication.LoginModel)","Controller":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"19df3494-475d-4548-9ce8-dfb61c9a51c8","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU69:00000003","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:05.0763921+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"19df3494-475d-4548-9ce8-dfb61c9a51c8","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU69:00000003","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:05.0772912+03:00","level":"Error","messageTemplate":"Incorrect user name","message":"Incorrect user name","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.Commands.LoginApplicationUser","ActionId":"19df3494-475d-4548-9ce8-dfb61c9a51c8","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU69:00000003","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:05.1325444+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)\" in 76.778ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":76.778,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6TV5VLGU69:00000003","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:05.1328137+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU69:00000003","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:05.1617226+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"POST\" \"http\"://\"localhost:5054\"\"\"\"/api/authentication/login\"\"\" - 400 null \"application/json\" 113.7214ms","fields":{"ElapsedMilliseconds":113.7214,"StatusCode":400,"ContentType":"application/json","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU69:00000003","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:26.5869206+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/authentication/login\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU68:00000003","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:26.5898156+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU68:00000003","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:26.5899699+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/authentication/login\"\"\" - 204 null null 3.7563ms","fields":{"ElapsedMilliseconds":3.7563,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU68:00000003","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:26.5912872+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"POST\" \"http\"://\"localhost:5054\"\"\"\"/api/authentication/login\"\"\" - \"application/json\" 46","fields":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":46,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU69:00000004","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:26.5936569+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU69:00000004","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:26.5944282+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException","Message":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","Source":"Microsoft.IdentityModel.JsonWebTokens","StackTraceString":"   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2147024809,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6TV5VLGU69:00000004","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:26.5945772+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6TV5VLGU69:00000004","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:26.5946294+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU69:00000004","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:26.5947070+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Login\\\", controller = \\\"Authentication\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Modsen.Server.Authentication.Application.Models.Authentication.LoginModel)\" on controller \"Modsen.Server.Authentication.Api.Controllers.AuthenticationController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Login\", controller = \"Authentication\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Modsen.Server.Authentication.Application.Models.Authentication.LoginModel)","Controller":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"19df3494-475d-4548-9ce8-dfb61c9a51c8","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU69:00000004","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:26.5991185+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"19df3494-475d-4548-9ce8-dfb61c9a51c8","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU69:00000004","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:26.7087169+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"19df3494-475d-4548-9ce8-dfb61c9a51c8","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU69:00000004","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:26.7104724+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"19df3494-475d-4548-9ce8-dfb61c9a51c8","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU69:00000004","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:26.7127368+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"19df3494-475d-4548-9ce8-dfb61c9a51c8","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU69:00000004","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:26.7130276+03:00","level":"Information","messageTemplate":"User login","message":"User login","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.Commands.LoginApplicationUser","ActionId":"19df3494-475d-4548-9ce8-dfb61c9a51c8","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU69:00000004","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:26.7140366+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"19df3494-475d-4548-9ce8-dfb61c9a51c8","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU69:00000004","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:26.7141744+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)\" in 119.4266ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":119.4266,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6TV5VLGU69:00000004","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:26.7142214+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU69:00000004","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:26.7143760+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"POST\" \"http\"://\"localhost:5054\"\"\"\"/api/authentication/login\"\"\" - 200 null \"text/plain; charset=utf-8\" 123.1231ms","fields":{"ElapsedMilliseconds":123.1231,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU69:00000004","RequestPath":"/api/authentication/login","ConnectionId":"0HN6TV5VLGU69"}}
{"@timestamp":"2024-09-26T10:09:27.7738720+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU68:00000004","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:27.7741012+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU68:00000004","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:27.7742898+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 0.4355ms","fields":{"ElapsedMilliseconds":0.4355,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU68:00000004","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:27.7756290+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU68:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:27.7760066+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU68:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:27.7764260+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU68:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:27.7765464+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU68:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:27.7770092+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU68:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:27.7794348+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU68:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:27.7810436+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU68:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:27.7827729+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU68:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:27.7831556+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU68:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:27.7834849+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 6.8334ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.8334,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6TV5VLGU68:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:27.7836037+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU68:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:27.7838031+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 8.2469ms","fields":{"ElapsedMilliseconds":8.2469,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU68:00000005","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:43.3502276+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU68:00000006","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:43.3504286+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU68:00000006","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:43.3506015+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 0.4982ms","fields":{"ElapsedMilliseconds":0.4982,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU68:00000006","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:43.3515970+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU68:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:43.3518457+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TV5VLGU68:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:43.3522536+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU68:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:43.3523572+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU68:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:43.3527291+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU68:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:43.3557364+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"2","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU68:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:43.3572845+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU68:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:43.3582492+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"0","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU68:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:43.3585999+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"cedd33f1-10a4-4a48-ab00-dae75f36b5a1","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TV5VLGU68:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:43.3589202+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 6.4775ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.4775,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6TV5VLGU68:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:43.3589961+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TV5VLGU68:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:09:43.3591620+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 7.6325ms","fields":{"ElapsedMilliseconds":7.6325,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TV5VLGU68:00000007","RequestPath":"/api/users","ConnectionId":"0HN6TV5VLGU68"}}
{"@timestamp":"2024-09-26T10:27:14.8530552+03:00","level":"Information","messageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","message":"User profile is available. Using '\"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys\"' as key repository and Windows DPAPI to encrypt keys at rest.","fields":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"@timestamp":"2024-09-26T10:27:15.1386898+03:00","level":"Information","messageTemplate":"Bus started: {HostAddress}","message":"Bus started: loopback://localhost/","fields":{"HostAddress":"loopback://localhost/","SourceContext":"MassTransit"}}
{"@timestamp":"2024-09-26T10:27:15.2435655+03:00","level":"Information","messageTemplate":"Now listening on: {address}","message":"Now listening on: \"http://localhost:5054\"","fields":{"address":"http://localhost:5054","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T10:27:15.2438741+03:00","level":"Information","messageTemplate":"Application started. Press Ctrl+C to shut down.","message":"Application started. Press Ctrl+C to shut down.","fields":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T10:27:15.2439374+03:00","level":"Information","messageTemplate":"Hosting environment: {EnvName}","message":"Hosting environment: \"Development\"","fields":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T10:27:15.2439596+03:00","level":"Information","messageTemplate":"Content root path: {ContentRoot}","message":"Content root path: \"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api\"","fields":{"ContentRoot":"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T10:27:15.8076250+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TVIIMNR29:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:27:16.0459922+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - 200 null \"text/html;charset=utf-8\" 242.6436ms","fields":{"ElapsedMilliseconds":242.6436,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TVIIMNR29:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:27:16.0511074+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TVIIMNR29:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:27:16.0537956+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - 200 13800 \"application/javascript; charset=utf-8\" 2.1914ms","fields":{"ElapsedMilliseconds":2.1914,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13800,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TVIIMNR29:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:27:16.0586750+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TVIIMNR29:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:27:16.0796695+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - 200 null \"text/javascript; charset=UTF-8\" 21.0811ms","fields":{"ElapsedMilliseconds":21.0811,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TVIIMNR29:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:27:16.1505111+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TVIIMNR29:00000004","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:27:16.2818610+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - 200 null \"application/json;charset=utf-8\" 131.2573ms","fields":{"ElapsedMilliseconds":131.2573,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TVIIMNR29:00000004","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:28:14.7624654+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TVIIMNR2B:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6TVIIMNR2B"}}
{"@timestamp":"2024-09-26T10:28:14.7663491+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TVIIMNR2B:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6TVIIMNR2B"}}
{"@timestamp":"2024-09-26T10:28:14.7670978+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 4.6579ms","fields":{"ElapsedMilliseconds":4.6579,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TVIIMNR2B:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6TVIIMNR2B"}}
{"@timestamp":"2024-09-26T10:28:14.7685898+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TVIIMNR29:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:28:14.7729780+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TVIIMNR29:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:28:14.7743374+03:00","level":"Warning","messageTemplate":"Failed to determine the https port for redirect.","message":"Failed to determine the https port for redirect.","fields":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN6TVIIMNR29:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:28:14.8537213+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 7:10:26', Current time (UTC): '26.09.2024 7:28:14'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6TVIIMNR29:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:28:14.8611789+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 7:10:26', Current time (UTC): '26.09.2024 7:28:14'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 7:10:26', Current time (UTC): '26.09.2024 7:28:14'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6TVIIMNR29:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:28:14.8629436+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TVIIMNR29:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:28:14.8767914+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c8dc47a7-5d3f-4215-b573-47f85619d818","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6TVIIMNR29:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:28:16.4300119+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"32\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"32","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c8dc47a7-5d3f-4215-b573-47f85619d818","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6TVIIMNR29:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:28:16.5016361+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c8dc47a7-5d3f-4215-b573-47f85619d818","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6TVIIMNR29:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:28:16.5663309+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"3\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"3","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c8dc47a7-5d3f-4215-b573-47f85619d818","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6TVIIMNR29:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:28:16.5733136+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c8dc47a7-5d3f-4215-b573-47f85619d818","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6TVIIMNR29:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:28:16.5816375+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c8dc47a7-5d3f-4215-b573-47f85619d818","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6TVIIMNR29:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:28:16.5844349+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 1705.337ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":1705.337,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6TVIIMNR29:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:28:16.5847973+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TVIIMNR29:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:28:16.5903479+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 1821.7536ms","fields":{"ElapsedMilliseconds":1821.7536,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TVIIMNR29:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6TVIIMNR29"}}
{"@timestamp":"2024-09-26T10:28:28.7703046+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TVIIMNR2B:00000002","RequestPath":"/api/users","ConnectionId":"0HN6TVIIMNR2B"}}
{"@timestamp":"2024-09-26T10:28:28.7716374+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TVIIMNR2B:00000002","RequestPath":"/api/users","ConnectionId":"0HN6TVIIMNR2B"}}
{"@timestamp":"2024-09-26T10:28:28.7719124+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 1.6768ms","fields":{"ElapsedMilliseconds":1.6768,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TVIIMNR2B:00000002","RequestPath":"/api/users","ConnectionId":"0HN6TVIIMNR2B"}}
{"@timestamp":"2024-09-26T10:28:28.7733624+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TVIIMNR2B:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TVIIMNR2B"}}
{"@timestamp":"2024-09-26T10:28:28.7738647+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6TVIIMNR2B:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TVIIMNR2B"}}
{"@timestamp":"2024-09-26T10:28:28.7857683+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TVIIMNR2B:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TVIIMNR2B"}}
{"@timestamp":"2024-09-26T10:28:28.7927239+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"138978ef-f699-468e-9b0b-24353d5e456b","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TVIIMNR2B:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TVIIMNR2B"}}
{"@timestamp":"2024-09-26T10:28:28.8579936+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"138978ef-f699-468e-9b0b-24353d5e456b","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TVIIMNR2B:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TVIIMNR2B"}}
{"@timestamp":"2024-09-26T10:28:28.8993492+03:00","level":"Warning","messageTemplate":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","message":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","fields":{"EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"138978ef-f699-468e-9b0b-24353d5e456b","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TVIIMNR2B:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TVIIMNR2B"}}
{"@timestamp":"2024-09-26T10:28:28.8996493+03:00","level":"Warning","messageTemplate":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","message":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","fields":{"EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"138978ef-f699-468e-9b0b-24353d5e456b","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TVIIMNR2B:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TVIIMNR2B"}}
{"@timestamp":"2024-09-26T10:28:28.9059085+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"2","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"138978ef-f699-468e-9b0b-24353d5e456b","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TVIIMNR2B:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TVIIMNR2B"}}
{"@timestamp":"2024-09-26T10:28:28.9345376+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"2","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"138978ef-f699-468e-9b0b-24353d5e456b","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TVIIMNR2B:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TVIIMNR2B"}}
{"@timestamp":"2024-09-26T10:28:28.9409367+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"138978ef-f699-468e-9b0b-24353d5e456b","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TVIIMNR2B:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TVIIMNR2B"}}
{"@timestamp":"2024-09-26T10:28:28.9417128+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"138978ef-f699-468e-9b0b-24353d5e456b","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6TVIIMNR2B:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TVIIMNR2B"}}
{"@timestamp":"2024-09-26T10:28:28.9476920+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 154.8233ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":154.8233,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6TVIIMNR2B:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TVIIMNR2B"}}
{"@timestamp":"2024-09-26T10:28:28.9477927+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6TVIIMNR2B:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TVIIMNR2B"}}
{"@timestamp":"2024-09-26T10:28:28.9480309+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 174.7438ms","fields":{"ElapsedMilliseconds":174.7438,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6TVIIMNR2B:00000003","RequestPath":"/api/users","ConnectionId":"0HN6TVIIMNR2B"}}
{"@timestamp":"2024-09-26T11:12:13.4650957+03:00","level":"Information","messageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","message":"User profile is available. Using '\"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys\"' as key repository and Windows DPAPI to encrypt keys at rest.","fields":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"@timestamp":"2024-09-26T11:12:13.6666995+03:00","level":"Information","messageTemplate":"Bus started: {HostAddress}","message":"Bus started: loopback://localhost/","fields":{"HostAddress":"loopback://localhost/","SourceContext":"MassTransit"}}
{"@timestamp":"2024-09-26T11:12:13.7757454+03:00","level":"Information","messageTemplate":"Now listening on: {address}","message":"Now listening on: \"http://localhost:5054\"","fields":{"address":"http://localhost:5054","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T11:12:13.7761133+03:00","level":"Information","messageTemplate":"Application started. Press Ctrl+C to shut down.","message":"Application started. Press Ctrl+C to shut down.","fields":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T11:12:13.7762039+03:00","level":"Information","messageTemplate":"Hosting environment: {EnvName}","message":"Hosting environment: \"Development\"","fields":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T11:12:13.7763322+03:00","level":"Information","messageTemplate":"Content root path: {ContentRoot}","message":"Content root path: \"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api\"","fields":{"ContentRoot":"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T11:12:23.8970628+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U0BMTMC8R:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6U0BMTMC8R"}}
{"@timestamp":"2024-09-26T11:12:24.0588347+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - 200 null \"text/html;charset=utf-8\" 165.3836ms","fields":{"ElapsedMilliseconds":165.3836,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U0BMTMC8R:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6U0BMTMC8R"}}
{"@timestamp":"2024-09-26T11:12:24.0713341+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U0BMTMC8S:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6U0BMTMC8S"}}
{"@timestamp":"2024-09-26T11:12:24.0713341+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U0BMTMC8R:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6U0BMTMC8R"}}
{"@timestamp":"2024-09-26T11:12:24.0732251+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - 200 13800 \"application/javascript; charset=utf-8\" 1.9278ms","fields":{"ElapsedMilliseconds":1.9278,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13800,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U0BMTMC8R:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6U0BMTMC8R"}}
{"@timestamp":"2024-09-26T11:12:24.0915487+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - 200 null \"text/javascript; charset=UTF-8\" 20.3215ms","fields":{"ElapsedMilliseconds":20.3215,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U0BMTMC8S:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6U0BMTMC8S"}}
{"@timestamp":"2024-09-26T11:12:24.1453733+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U0BMTMC8S:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6U0BMTMC8S"}}
{"@timestamp":"2024-09-26T11:12:24.2376272+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - 200 null \"application/json;charset=utf-8\" 92.3731ms","fields":{"ElapsedMilliseconds":92.3731,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U0BMTMC8S:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6U0BMTMC8S"}}
{"@timestamp":"2024-09-26T11:14:31.6625789+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U0BMTMC8T:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U0BMTMC8T"}}
{"@timestamp":"2024-09-26T11:14:31.6662037+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U0BMTMC8T:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U0BMTMC8T"}}
{"@timestamp":"2024-09-26T11:14:31.6669495+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 5.4079ms","fields":{"ElapsedMilliseconds":5.4079,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U0BMTMC8T:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U0BMTMC8T"}}
{"@timestamp":"2024-09-26T11:14:31.6705755+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U0BMTMC8S:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U0BMTMC8S"}}
{"@timestamp":"2024-09-26T11:14:31.6719177+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U0BMTMC8S:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U0BMTMC8S"}}
{"@timestamp":"2024-09-26T11:14:31.6730082+03:00","level":"Warning","messageTemplate":"Failed to determine the https port for redirect.","message":"Failed to determine the https port for redirect.","fields":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN6U0BMTMC8S:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U0BMTMC8S"}}
{"@timestamp":"2024-09-26T11:14:32.4372850+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 7:29:16', Current time (UTC): '26.09.2024 8:14:32'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U0BMTMC8S:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U0BMTMC8S"}}
{"@timestamp":"2024-09-26T11:14:32.4449646+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 7:29:16', Current time (UTC): '26.09.2024 8:14:32'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 7:29:16', Current time (UTC): '26.09.2024 8:14:32'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U0BMTMC8S:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U0BMTMC8S"}}
{"@timestamp":"2024-09-26T11:14:32.4467835+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U0BMTMC8S:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U0BMTMC8S"}}
{"@timestamp":"2024-09-26T11:14:32.4625895+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"dd677d6b-7c4c-4ac9-af5b-e64d001425fa","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U0BMTMC8S:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U0BMTMC8S"}}
{"@timestamp":"2024-09-26T11:14:35.2001958+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"68\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"68","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd677d6b-7c4c-4ac9-af5b-e64d001425fa","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U0BMTMC8S:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U0BMTMC8S"}}
{"@timestamp":"2024-09-26T11:14:35.2681241+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd677d6b-7c4c-4ac9-af5b-e64d001425fa","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U0BMTMC8S:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U0BMTMC8S"}}
{"@timestamp":"2024-09-26T11:14:35.3378132+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"5\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"5","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"dd677d6b-7c4c-4ac9-af5b-e64d001425fa","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U0BMTMC8S:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U0BMTMC8S"}}
{"@timestamp":"2024-09-26T11:14:35.3458466+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"dd677d6b-7c4c-4ac9-af5b-e64d001425fa","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U0BMTMC8S:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U0BMTMC8S"}}
{"@timestamp":"2024-09-26T11:14:35.3551568+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"dd677d6b-7c4c-4ac9-af5b-e64d001425fa","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U0BMTMC8S:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U0BMTMC8S"}}
{"@timestamp":"2024-09-26T11:14:35.3581677+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 2893.205ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":2893.205,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U0BMTMC8S:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U0BMTMC8S"}}
{"@timestamp":"2024-09-26T11:14:35.3584923+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U0BMTMC8S:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U0BMTMC8S"}}
{"@timestamp":"2024-09-26T11:14:35.3638159+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 3693.2514ms","fields":{"ElapsedMilliseconds":3693.2514,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U0BMTMC8S:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U0BMTMC8S"}}
{"@timestamp":"2024-09-26T11:59:27.8474505+03:00","level":"Information","messageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","message":"User profile is available. Using '\"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys\"' as key repository and Windows DPAPI to encrypt keys at rest.","fields":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"@timestamp":"2024-09-26T11:59:28.1763928+03:00","level":"Information","messageTemplate":"Bus started: {HostAddress}","message":"Bus started: loopback://localhost/","fields":{"HostAddress":"loopback://localhost/","SourceContext":"MassTransit"}}
{"@timestamp":"2024-09-26T11:59:28.2942100+03:00","level":"Information","messageTemplate":"Now listening on: {address}","message":"Now listening on: \"http://localhost:5054\"","fields":{"address":"http://localhost:5054","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T11:59:28.2945839+03:00","level":"Information","messageTemplate":"Application started. Press Ctrl+C to shut down.","message":"Application started. Press Ctrl+C to shut down.","fields":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T11:59:28.2946525+03:00","level":"Information","messageTemplate":"Hosting environment: {EnvName}","message":"Hosting environment: \"Development\"","fields":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T11:59:28.2946796+03:00","level":"Information","messageTemplate":"Content root path: {ContentRoot}","message":"Content root path: \"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api\"","fields":{"ContentRoot":"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T11:59:29.0094843+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U163LOCS6:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T11:59:29.2697180+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - 200 null \"text/html;charset=utf-8\" 263.8634ms","fields":{"ElapsedMilliseconds":263.8634,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U163LOCS6:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T11:59:29.2798167+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U163LOCS6:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T11:59:29.2826988+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - 200 13800 \"application/javascript; charset=utf-8\" 2.8024ms","fields":{"ElapsedMilliseconds":2.8024,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13800,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U163LOCS6:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T11:59:29.2866296+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U163LOCS6:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T11:59:29.3213197+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - 200 null \"text/javascript; charset=UTF-8\" 34.7279ms","fields":{"ElapsedMilliseconds":34.7279,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U163LOCS6:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T11:59:29.3892789+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U163LOCS6:00000004","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T11:59:29.4744265+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - 200 null \"application/json;charset=utf-8\" 85.1753ms","fields":{"ElapsedMilliseconds":85.1753,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U163LOCS6:00000004","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T12:01:27.9281093+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U163LOCS8:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U163LOCS8"}}
{"@timestamp":"2024-09-26T12:01:27.9317042+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U163LOCS8:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U163LOCS8"}}
{"@timestamp":"2024-09-26T12:01:27.9324537+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 4.4006ms","fields":{"ElapsedMilliseconds":4.4006,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U163LOCS8:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U163LOCS8"}}
{"@timestamp":"2024-09-26T12:01:27.9354596+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U163LOCS6:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T12:01:27.9379514+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U163LOCS6:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T12:01:27.9394937+03:00","level":"Warning","messageTemplate":"Failed to determine the https port for redirect.","message":"Failed to determine the https port for redirect.","fields":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN6U163LOCS6:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T12:01:28.0273833+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 8:15:35', Current time (UTC): '26.09.2024 9:01:28'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U163LOCS6:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T12:01:28.0358945+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 8:15:35', Current time (UTC): '26.09.2024 9:01:28'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 8:15:35', Current time (UTC): '26.09.2024 9:01:28'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U163LOCS6:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T12:01:28.0391666+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U163LOCS6:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T12:01:28.0582022+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"736c85c9-5a5c-4320-b0f1-ad82326317dd","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U163LOCS6:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T12:01:29.6627782+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"39\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"39","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"736c85c9-5a5c-4320-b0f1-ad82326317dd","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U163LOCS6:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T12:01:29.7250528+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"736c85c9-5a5c-4320-b0f1-ad82326317dd","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U163LOCS6:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T12:01:29.8002294+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"5\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"5","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"736c85c9-5a5c-4320-b0f1-ad82326317dd","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U163LOCS6:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T12:01:29.8090111+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"736c85c9-5a5c-4320-b0f1-ad82326317dd","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U163LOCS6:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T12:01:29.8187276+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"736c85c9-5a5c-4320-b0f1-ad82326317dd","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U163LOCS6:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T12:01:29.8220958+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 1761.2414ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":1761.2414,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U163LOCS6:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T12:01:29.8225452+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U163LOCS6:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T12:01:29.8275490+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 1893.6045ms","fields":{"ElapsedMilliseconds":1893.6045,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U163LOCS6:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U163LOCS6"}}
{"@timestamp":"2024-09-26T12:01:32.1082762+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U163LOCS8:00000002","RequestPath":"/api/users","ConnectionId":"0HN6U163LOCS8"}}
{"@timestamp":"2024-09-26T12:01:32.1095370+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U163LOCS8:00000002","RequestPath":"/api/users","ConnectionId":"0HN6U163LOCS8"}}
{"@timestamp":"2024-09-26T12:01:32.1101008+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 1.9365ms","fields":{"ElapsedMilliseconds":1.9365,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U163LOCS8:00000002","RequestPath":"/api/users","ConnectionId":"0HN6U163LOCS8"}}
{"@timestamp":"2024-09-26T12:01:32.1115740+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U163LOCS8:00000003","RequestPath":"/api/users","ConnectionId":"0HN6U163LOCS8"}}
{"@timestamp":"2024-09-26T12:01:32.1118584+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U163LOCS8:00000003","RequestPath":"/api/users","ConnectionId":"0HN6U163LOCS8"}}
{"@timestamp":"2024-09-26T12:01:32.1228301+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U163LOCS8:00000003","RequestPath":"/api/users","ConnectionId":"0HN6U163LOCS8"}}
{"@timestamp":"2024-09-26T12:01:32.1302998+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b3476dde-729d-48c3-8d39-7a29d85b9095","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U163LOCS8:00000003","RequestPath":"/api/users","ConnectionId":"0HN6U163LOCS8"}}
{"@timestamp":"2024-09-26T12:01:32.2131161+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"b3476dde-729d-48c3-8d39-7a29d85b9095","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U163LOCS8:00000003","RequestPath":"/api/users","ConnectionId":"0HN6U163LOCS8"}}
{"@timestamp":"2024-09-26T12:01:32.2609383+03:00","level":"Warning","messageTemplate":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","message":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","fields":{"EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"b3476dde-729d-48c3-8d39-7a29d85b9095","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U163LOCS8:00000003","RequestPath":"/api/users","ConnectionId":"0HN6U163LOCS8"}}
{"@timestamp":"2024-09-26T12:01:32.2613551+03:00","level":"Warning","messageTemplate":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","message":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","fields":{"EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"b3476dde-729d-48c3-8d39-7a29d85b9095","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U163LOCS8:00000003","RequestPath":"/api/users","ConnectionId":"0HN6U163LOCS8"}}
{"@timestamp":"2024-09-26T12:01:32.2669671+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b3476dde-729d-48c3-8d39-7a29d85b9095","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U163LOCS8:00000003","RequestPath":"/api/users","ConnectionId":"0HN6U163LOCS8"}}
{"@timestamp":"2024-09-26T12:01:32.3364360+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"3\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"3","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b3476dde-729d-48c3-8d39-7a29d85b9095","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U163LOCS8:00000003","RequestPath":"/api/users","ConnectionId":"0HN6U163LOCS8"}}
{"@timestamp":"2024-09-26T12:01:32.3454193+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b3476dde-729d-48c3-8d39-7a29d85b9095","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U163LOCS8:00000003","RequestPath":"/api/users","ConnectionId":"0HN6U163LOCS8"}}
{"@timestamp":"2024-09-26T12:01:32.3466120+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b3476dde-729d-48c3-8d39-7a29d85b9095","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U163LOCS8:00000003","RequestPath":"/api/users","ConnectionId":"0HN6U163LOCS8"}}
{"@timestamp":"2024-09-26T12:01:32.3541639+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 223.6678ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":223.6678,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U163LOCS8:00000003","RequestPath":"/api/users","ConnectionId":"0HN6U163LOCS8"}}
{"@timestamp":"2024-09-26T12:01:32.3543105+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U163LOCS8:00000003","RequestPath":"/api/users","ConnectionId":"0HN6U163LOCS8"}}
{"@timestamp":"2024-09-26T12:01:32.3546458+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 243.0659ms","fields":{"ElapsedMilliseconds":243.0659,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U163LOCS8:00000003","RequestPath":"/api/users","ConnectionId":"0HN6U163LOCS8"}}
{"@timestamp":"2024-09-26T12:12:08.6913771+03:00","level":"Information","messageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","message":"User profile is available. Using '\"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys\"' as key repository and Windows DPAPI to encrypt keys at rest.","fields":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"@timestamp":"2024-09-26T12:12:08.9396049+03:00","level":"Information","messageTemplate":"Bus started: {HostAddress}","message":"Bus started: loopback://localhost/","fields":{"HostAddress":"loopback://localhost/","SourceContext":"MassTransit"}}
{"@timestamp":"2024-09-26T12:12:09.0427479+03:00","level":"Information","messageTemplate":"Now listening on: {address}","message":"Now listening on: \"http://localhost:5054\"","fields":{"address":"http://localhost:5054","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T12:12:09.0431365+03:00","level":"Information","messageTemplate":"Application started. Press Ctrl+C to shut down.","message":"Application started. Press Ctrl+C to shut down.","fields":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T12:12:09.0432050+03:00","level":"Information","messageTemplate":"Hosting environment: {EnvName}","message":"Hosting environment: \"Development\"","fields":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T12:12:09.0432228+03:00","level":"Information","messageTemplate":"Content root path: {ContentRoot}","message":"Content root path: \"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api\"","fields":{"ContentRoot":"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T12:12:09.4928594+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLI:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6U1D69QMLI"}}
{"@timestamp":"2024-09-26T12:12:09.9750011+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - 200 null \"text/html;charset=utf-8\" 490.9473ms","fields":{"ElapsedMilliseconds":490.9473,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLI:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6U1D69QMLI"}}
{"@timestamp":"2024-09-26T12:12:10.0078756+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLI:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6U1D69QMLI"}}
{"@timestamp":"2024-09-26T12:12:10.0099661+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - 200 13800 \"application/javascript; charset=utf-8\" 2.1457ms","fields":{"ElapsedMilliseconds":2.1457,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13800,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLI:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6U1D69QMLI"}}
{"@timestamp":"2024-09-26T12:12:10.0113279+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLH:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6U1D69QMLH"}}
{"@timestamp":"2024-09-26T12:12:10.1005999+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - 200 null \"text/javascript; charset=UTF-8\" 89.0938ms","fields":{"ElapsedMilliseconds":89.0938,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLH:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6U1D69QMLH"}}
{"@timestamp":"2024-09-26T12:12:10.2001507+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLH:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6U1D69QMLH"}}
{"@timestamp":"2024-09-26T12:12:10.4152961+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - 200 null \"application/json;charset=utf-8\" 218.737ms","fields":{"ElapsedMilliseconds":218.737,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLH:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6U1D69QMLH"}}
{"@timestamp":"2024-09-26T12:12:30.1777344+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLJ:00000001","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:30.1827352+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLJ:00000001","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:30.1837434+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 6.033ms","fields":{"ElapsedMilliseconds":6.033,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLJ:00000001","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:30.1850977+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLJ:00000002","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:30.1861635+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLJ:00000002","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:30.1881857+03:00","level":"Warning","messageTemplate":"Failed to determine the https port for redirect.","message":"Failed to determine the https port for redirect.","fields":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN6U1D69QMLJ:00000002","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:30.2789499+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:02:29', Current time (UTC): '26.09.2024 9:12:30'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLJ:00000002","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:30.2886588+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:02:29', Current time (UTC): '26.09.2024 9:12:30'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:02:29', Current time (UTC): '26.09.2024 9:12:30'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLJ:00000002","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:30.2935006+03:00","level":"Information","messageTemplate":"Authorization failed. {Reason}","message":"Authorization failed. \"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)\"","fields":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN6U1D69QMLJ:00000002","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:30.2977342+03:00","level":"Information","messageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","message":"AuthenticationScheme: \"Bearer\" was challenged.","fields":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLJ:00000002","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:30.2985778+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 401 0 null 113.432ms","fields":{"ElapsedMilliseconds":113.432,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLJ:00000002","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:30.3034113+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLJ:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:30.3046143+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLJ:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:30.3048975+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 1.5408ms","fields":{"ElapsedMilliseconds":1.5408,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLJ:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:30.3058821+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLH:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLH"}}
{"@timestamp":"2024-09-26T12:12:30.3061515+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLH:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLH"}}
{"@timestamp":"2024-09-26T12:12:30.3090378+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:02:29', Current time (UTC): '26.09.2024 9:12:30'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLH:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLH"}}
{"@timestamp":"2024-09-26T12:12:30.3093833+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:02:29', Current time (UTC): '26.09.2024 9:12:30'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:02:29', Current time (UTC): '26.09.2024 9:12:30'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLH:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLH"}}
{"@timestamp":"2024-09-26T12:12:30.3108746+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLH:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLH"}}
{"@timestamp":"2024-09-26T12:12:30.3347585+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLH:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLH"}}
{"@timestamp":"2024-09-26T12:12:31.5006198+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLJ:00000004","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:31.5030953+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLJ:00000004","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:31.5311662+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:02:29', Current time (UTC): '26.09.2024 9:12:31'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLJ:00000004","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:31.5318275+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:02:29', Current time (UTC): '26.09.2024 9:12:31'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:02:29', Current time (UTC): '26.09.2024 9:12:31'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLJ:00000004","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:31.5332678+03:00","level":"Information","messageTemplate":"Authorization failed. {Reason}","message":"Authorization failed. \"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)\"","fields":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN6U1D69QMLJ:00000004","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:31.5337997+03:00","level":"Information","messageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","message":"AuthenticationScheme: \"Bearer\" was challenged.","fields":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLJ:00000004","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:31.5340704+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 401 0 null 41.0727ms","fields":{"ElapsedMilliseconds":41.0727,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLJ:00000004","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:31.5638149+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLI:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLI"}}
{"@timestamp":"2024-09-26T12:12:31.5642404+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLI:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLI"}}
{"@timestamp":"2024-09-26T12:12:31.5667647+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:02:29', Current time (UTC): '26.09.2024 9:12:31'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLI:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLI"}}
{"@timestamp":"2024-09-26T12:12:31.5673662+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:02:29', Current time (UTC): '26.09.2024 9:12:31'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:02:29', Current time (UTC): '26.09.2024 9:12:31'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLI:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLI"}}
{"@timestamp":"2024-09-26T12:12:31.5675444+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLI:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLI"}}
{"@timestamp":"2024-09-26T12:12:31.5679504+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLI:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLI"}}
{"@timestamp":"2024-09-26T12:12:31.8016762+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"42\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"42","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLH:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLH"}}
{"@timestamp":"2024-09-26T12:12:31.8016763+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"42\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"42","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLI:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLI"}}
{"@timestamp":"2024-09-26T12:12:31.8869314+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"6\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"6","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLH:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLH"}}
{"@timestamp":"2024-09-26T12:12:31.8869352+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"6\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"6","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLI:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLI"}}
{"@timestamp":"2024-09-26T12:12:31.9636180+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"5\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"5","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLH:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLH"}}
{"@timestamp":"2024-09-26T12:12:31.9636866+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"5\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"5","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLI:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLI"}}
{"@timestamp":"2024-09-26T12:12:31.9844477+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLI:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLI"}}
{"@timestamp":"2024-09-26T12:12:31.9948327+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLH:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLH"}}
{"@timestamp":"2024-09-26T12:12:31.9994430+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLI:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLI"}}
{"@timestamp":"2024-09-26T12:12:31.9994430+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLH:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLH"}}
{"@timestamp":"2024-09-26T12:12:32.0030101+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 432.7111ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":432.7111,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLI:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLI"}}
{"@timestamp":"2024-09-26T12:12:32.0030101+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 1665.621ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":1665.621,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLH:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLH"}}
{"@timestamp":"2024-09-26T12:12:32.0035377+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLI:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLI"}}
{"@timestamp":"2024-09-26T12:12:32.0035431+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLH:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLH"}}
{"@timestamp":"2024-09-26T12:12:32.0094794+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLJ:00000005","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:32.0097550+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLJ:00000005","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:32.0107556+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 447.0058ms","fields":{"ElapsedMilliseconds":447.0058,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLI:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLI"}}
{"@timestamp":"2024-09-26T12:12:32.0107588+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 1704.8813ms","fields":{"ElapsedMilliseconds":1704.8813,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLH:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLH"}}
{"@timestamp":"2024-09-26T12:12:32.0152143+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLJ:00000005","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:32.0220432+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLJ:00000005","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:32.0853019+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLJ:00000005","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:32.0972953+03:00","level":"Warning","messageTemplate":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","message":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","fields":{"EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLJ:00000005","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:32.0975807+03:00","level":"Warning","messageTemplate":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","message":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","fields":{"EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLJ:00000005","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:32.1028466+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"2","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLJ:00000005","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:32.1394872+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"4\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"4","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLJ:00000005","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:32.1479321+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLJ:00000005","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:32.1488163+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLJ:00000005","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:32.1566440+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 134.4197ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":134.4197,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLJ:00000005","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:32.1568141+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLJ:00000005","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:12:32.1571061+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 147.6524ms","fields":{"ElapsedMilliseconds":147.6524,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLJ:00000005","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLJ"}}
{"@timestamp":"2024-09-26T12:39:27.3851627+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000001","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.4141423+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000001","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.4145330+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 62.6252ms","fields":{"ElapsedMilliseconds":62.6252,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000001","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.4156280+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000002","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.4158861+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000002","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.4168473+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:13:31', Current time (UTC): '26.09.2024 9:39:27'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLK:00000002","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.4172293+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:13:31', Current time (UTC): '26.09.2024 9:39:27'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:13:31', Current time (UTC): '26.09.2024 9:39:27'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLK:00000002","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.4177288+03:00","level":"Information","messageTemplate":"Authorization failed. {Reason}","message":"Authorization failed. \"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)\"","fields":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN6U1D69QMLK:00000002","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.4178844+03:00","level":"Information","messageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","message":"AuthenticationScheme: \"Bearer\" was challenged.","fields":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLK:00000002","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.4183072+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 401 0 null 2.6471ms","fields":{"ElapsedMilliseconds":2.6471,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000002","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.4228097+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.4230710+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.4232383+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.5204ms","fields":{"ElapsedMilliseconds":0.5204,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.4246893+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:39:27.4249315+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:39:27.4301626+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:13:31', Current time (UTC): '26.09.2024 9:39:27'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLL:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:39:27.4304536+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:13:31', Current time (UTC): '26.09.2024 9:39:27'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:13:31', Current time (UTC): '26.09.2024 9:39:27'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLL:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:39:27.4305888+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:39:27.4308284+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:39:27.5305667+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:39:27.5325191+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:39:27.5400675+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"5\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"5","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:39:27.5405760+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:39:27.5411303+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:39:27.5414195+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 110.4804ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":110.4804,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:39:27.5415109+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:39:27.5417100+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 117.0336ms","fields":{"ElapsedMilliseconds":117.0336,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:39:27.5463695+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000004","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.5468057+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000004","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.5476450+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLK:00000004","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.5478365+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:00000004","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.5497686+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:00000004","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.5533854+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"2","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:00000004","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.5573507+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"3\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"3","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:00000004","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.5587013+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:00000004","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.5590939+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:00000004","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.5594012+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 11.4649ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":11.4649,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLK:00000004","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.5594810+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLK:00000004","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:39:27.5596852+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 13.3857ms","fields":{"ElapsedMilliseconds":13.3857,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000004","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:40:29.9049966+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:40:29.9078824+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:40:29.9092151+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 5.2308ms","fields":{"ElapsedMilliseconds":5.2308,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:40:29.9103627+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:40:29.9125949+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:40:29.9142413+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:40:27', Current time (UTC): '26.09.2024 9:40:29'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLL:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:40:29.9145221+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:40:27', Current time (UTC): '26.09.2024 9:40:29'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:40:27', Current time (UTC): '26.09.2024 9:40:29'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLL:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:40:29.9145842+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:40:29.9146699+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:40:29.9200783+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"3\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"3","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:40:29.9231296+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:40:29.9247614+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:40:29.9250140+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:40:29.9255119+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:40:29.9256652+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 10.9441ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":10.9441,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:40:29.9257257+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:40:29.9258846+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 15.5568ms","fields":{"ElapsedMilliseconds":15.5568,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:28.8258395+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:41:28.8260758+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:41:28.8288632+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 3.3265ms","fields":{"ElapsedMilliseconds":3.3265,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:41:28.8336766+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:28.8339012+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:28.8350460+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:28.8351857+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:28.8399255+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"3\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"3","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:28.8461580+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:28.8479882+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:28.8483144+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:28.8486385+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:28.8487808+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 13.5188ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":13.5188,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:28.8488346+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:28.8490186+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 16.0181ms","fields":{"ElapsedMilliseconds":16.0181,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:45.7267068+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:41:45.7272324+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:41:45.7277197+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 1.1001ms","fields":{"ElapsedMilliseconds":1.1001,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:41:45.7289299+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:45.7291851+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:45.7300241+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:45.7304740+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:45.7341162+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:45.7403637+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:45.7422873+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:45.7427457+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:45.7432435+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:45.7434705+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 12.6601ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":12.6601,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:45.7435380+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:41:45.7437797+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 14.8444ms","fields":{"ElapsedMilliseconds":14.8444,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:17.0015149+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:42:17.0024165+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:42:17.0053500+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 3.2087ms","fields":{"ElapsedMilliseconds":3.2087,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:42:17.0054793+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:17.0065345+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:17.0069579+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:17.0071265+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:17.0106930+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:17.0164280+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:17.0182075+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:17.0184857+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:17.0189494+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:17.0191334+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 11.9259ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":11.9259,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:17.0192085+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:17.0194020+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 13.9618ms","fields":{"ElapsedMilliseconds":13.9618,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:20.1532098+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:20.1534204+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:20.1538270+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:20.1539729+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:20.1561275+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:20.1582904+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:20.1598624+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:20.1601613+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:20.1606195+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:20.1608297+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 6.7826ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.7826,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:20.1609202+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:20.1611661+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 7.9865ms","fields":{"ElapsedMilliseconds":7.9865,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:54.2434612+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:42:54.2436592+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:42:54.2472770+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 4.5758ms","fields":{"ElapsedMilliseconds":4.5758,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:42:54.2493225+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:54.2495960+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:54.2502775+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:54.2504772+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:54.2534650+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:54.2556173+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:54.2576868+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:54.2580316+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:54.2584741+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:54.2589296+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 8.3508ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":8.3508,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:54.2592054+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:42:54.2594953+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 10.2677ms","fields":{"ElapsedMilliseconds":10.2677,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:16.2488102+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:16.2491082+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:16.2494303+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.6998ms","fields":{"ElapsedMilliseconds":0.6998,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:16.2505773+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:16.2507700+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:16.2511195+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:16.2512339+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:16.2547096+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:16.2613601+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:16.2634165+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:16.2637882+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:16.2641454+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:16.2642864+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 12.9898ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":12.9898,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:16.2643633+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:16.2645782+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 14.0313ms","fields":{"ElapsedMilliseconds":14.0313,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:17.7709542+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:17.7711413+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:17.7714385+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:17.7715221+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:17.7739664+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:17.7762020+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:17.7782410+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:17.7785929+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:17.7795593+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:17.7797260+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 8.1576ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":8.1576,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:17.7797918+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:17.7800063+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 9.0914ms","fields":{"ElapsedMilliseconds":9.0914,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:43:33.6343185+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:33.6345039+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:33.6346908+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 0.4265ms","fields":{"ElapsedMilliseconds":0.4265,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:33.6356178+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:33.6357456+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:33.6360543+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLK:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:33.6361406+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:33.6370275+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:33.6396989+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:33.6418361+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:33.6432660+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:33.6438557+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:33.6440942+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 7.8961ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":7.8961,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLK:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:33.6441586+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLK:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:33.6442926+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 8.7022ms","fields":{"ElapsedMilliseconds":8.7022,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:35.2732362+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:35.2734224+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:35.2737691+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLK:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:35.2738651+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:35.2742953+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:35.2774235+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"2","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:35.2842279+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:35.2854612+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:35.2856532+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:35.2857931+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 11.8843ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":11.8843,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLK:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:35.2858242+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLK:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:35.2859180+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 12.7407ms","fields":{"ElapsedMilliseconds":12.7407,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000000D","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:38.1950871+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:38.1953022+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:38.1957192+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLK:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:38.1958408+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:38.1961829+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:38.1982045+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:38.2005466+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:38.2016520+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:38.2019064+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:38.2020927+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 6.1825ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.1825,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLK:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:38.2021419+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLK:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:43:38.2022717+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 7.2946ms","fields":{"ElapsedMilliseconds":7.2946,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:44:03.7839942+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:44:03.7875342+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:44:03.7878041+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 4.5341ms","fields":{"ElapsedMilliseconds":4.5341,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:44:03.7902297+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:03.7904411+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:03.7908324+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:03.7909705+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:03.7980013+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"4\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"4","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:03.8038961+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"4\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"4","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:03.8055090+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:03.8057971+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:03.8061222+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:03.8063026+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 15.255ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":15.255,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:03.8063546+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:03.8065098+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 16.3323ms","fields":{"ElapsedMilliseconds":16.3323,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:08.3391421+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:08.3396379+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:08.3401307+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:08.3403552+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:08.3434272+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:08.3521375+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:08.3545645+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:08.3554870+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:08.3558468+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:08.3559981+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 15.473ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":15.473,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:08.3560541+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:08.3561992+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 17.1173ms","fields":{"ElapsedMilliseconds":17.1173,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:44:12.9817110+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000010","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:44:12.9819058+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000010","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:44:12.9821547+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 0.4625ms","fields":{"ElapsedMilliseconds":0.4625,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000010","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:44:12.9837298+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000011","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:44:12.9840036+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000011","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:44:12.9845081+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLK:00000011","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:44:12.9846332+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:00000011","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:44:12.9849736+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:00000011","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:44:12.9867220+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:00000011","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:44:12.9894921+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:00000011","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:44:12.9905549+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:00000011","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:44:12.9909160+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:00000011","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:44:12.9912016+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 6.4994ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.4994,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLK:00000011","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:44:12.9912780+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLK:00000011","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:44:12.9914571+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 8.1099ms","fields":{"ElapsedMilliseconds":8.1099,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000011","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:45:06.7967953+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:45:06.7976976+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:45:06.8005341+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 3.7718ms","fields":{"ElapsedMilliseconds":3.7718,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:45:06.8027088+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:06.8066400+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:06.8084360+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:06.8085591+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:06.8109713+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:06.8149327+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:06.8164931+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:06.8168392+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:06.8171859+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:06.8173308+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 8.7147ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":8.7147,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:06.8173842+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:06.8175385+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 15.4742ms","fields":{"ElapsedMilliseconds":15.4742,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:31.7632501+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:45:31.7645104+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:45:31.8003866+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 36.5141ms","fields":{"ElapsedMilliseconds":36.5141,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:45:31.8016712+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:31.8018664+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:31.8022252+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:31.8023304+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:31.8053689+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:31.8116938+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:31.8132696+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:31.8135314+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:31.8139299+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:31.8140876+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 11.7003ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":11.7003,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:31.8141452+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:31.8143085+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 12.653ms","fields":{"ElapsedMilliseconds":12.653,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:43.2994926+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:45:43.3003292+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:45:43.3004695+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 1.047ms","fields":{"ElapsedMilliseconds":1.047,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:45:43.3130426+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:43.3132309+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:43.3136036+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:43.3137124+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:43.3176339+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:43.3194056+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:43.3209695+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:43.3212863+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:43.3216415+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:43.3218586+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 8.0899ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":8.0899,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:43.3219126+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:45:43.3220924+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 9.0645ms","fields":{"ElapsedMilliseconds":9.0645,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:03.8827079+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:03.8829043+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:03.8830296+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.4243ms","fields":{"ElapsedMilliseconds":0.4243,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:03.8846209+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:03.8887771+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:03.8894117+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:03.8908751+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:03.8946854+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:03.9017741+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"5\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"5","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:03.9052728+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"2","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:03.9055712+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:03.9058971+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:03.9060450+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 15.0177ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":15.0177,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:03.9068054+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:03.9069913+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 22.3936ms","fields":{"ElapsedMilliseconds":22.3936,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:15.0774672+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000016","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:15.0775916+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000016","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:15.0776635+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 0.2432ms","fields":{"ElapsedMilliseconds":0.2432,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000016","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:15.0786804+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000017","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:15.0789294+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000017","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:15.0793042+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLK:00000017","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:15.0793971+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:00000017","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:15.0798528+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:00000017","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:15.0820770+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:00000017","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:15.0873197+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:00000017","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:15.0888488+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:00000017","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:15.0898103+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c9e296d5-06e2-4358-b10b-7bcdeb10c08c","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLK:00000017","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:15.0922554+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 12.7866ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":12.7866,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLK:00000017","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:15.0923391+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLK:00000017","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:15.0935600+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 14.8638ms","fields":{"ElapsedMilliseconds":14.8638,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000017","RequestPath":"/api/users","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:27.7090764+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:27.7092668+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:27.7093868+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.3738ms","fields":{"ElapsedMilliseconds":0.3738,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:27.7104005+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:27.7105307+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:27.7108339+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:27.7109132+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:27.7130360+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:27.7149791+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"0","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:27.7163196+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:27.7165380+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:27.7168521+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:27.7169861+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 6.0317ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.0317,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:27.7170342+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:27.7171598+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 6.7708ms","fields":{"ElapsedMilliseconds":6.7708,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:37.3319366+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:37.3321228+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:37.3323406+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.4565ms","fields":{"ElapsedMilliseconds":0.4565,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:37.3336796+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:37.3338694+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:37.3342031+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:37.3343398+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:37.3376525+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:37.3390757+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:37.3408391+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:37.3411731+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:37.3425420+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:37.3429239+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 8.5111ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":8.5111,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:37.3430318+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:37.3431768+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 9.5214ms","fields":{"ElapsedMilliseconds":9.5214,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:51.7893473+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:51.7895293+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:51.7896270+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.3193ms","fields":{"ElapsedMilliseconds":0.3193,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:46:51.7941041+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:51.7943479+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:51.7947778+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:51.7949102+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:51.7983600+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:51.8010780+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:51.8028159+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:51.8030408+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:51.8033852+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:51.8036295+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 8.6639ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":8.6639,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:51.8037095+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:46:51.8039145+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 9.8128ms","fields":{"ElapsedMilliseconds":9.8128,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:48:56.1173475+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000001B","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:48:56.1178455+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:0000001B","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:48:56.1180054+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 1.7595ms","fields":{"ElapsedMilliseconds":1.7595,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000001B","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:48:56.1220888+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:48:56.1223581+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:48:56.1251854+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:47:51', Current time (UTC): '26.09.2024 9:48:56'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLL:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:48:56.1257706+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:47:51', Current time (UTC): '26.09.2024 9:48:56'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:47:51', Current time (UTC): '26.09.2024 9:48:56'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLL:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:48:56.1258673+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:48:56.1259557+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:48:56.1329926+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"6\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"6","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:48:56.1450312+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"11\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"11","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:48:56.1598042+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"3\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"3","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:48:56.1600979+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:48:56.1605270+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:48:56.1606694+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 34.6568ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":34.6568,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:48:56.1607444+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:48:56.1611022+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 39.0455ms","fields":{"ElapsedMilliseconds":39.0455,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:49:19.8904256+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000001C","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:49:19.8906249+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:0000001C","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:49:19.8909860+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.5407ms","fields":{"ElapsedMilliseconds":0.5407,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000001C","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:49:19.8969772+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:49:19.9285766+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:49:19.9289576+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:49:19.9290690+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:49:19.9356298+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"5\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"5","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:49:19.9383418+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:49:19.9482211+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"8\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"8","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:49:19.9484597+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:49:19.9487328+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:49:19.9489345+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 19.8048ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":19.8048,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:49:19.9489853+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:49:19.9491172+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 52.1845ms","fields":{"ElapsedMilliseconds":52.1845,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:50:03.2553769+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000001D","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:50:03.2556733+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:0000001D","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:50:03.2559647+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.7063ms","fields":{"ElapsedMilliseconds":0.7063,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000001D","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:50:03.2599382+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:50:03.2601011+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:50:03.2620757+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:50:03.2622435+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:50:03.2679643+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"4\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"4","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:50:03.2727960+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"3\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"3","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:50:03.2756207+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:50:03.2758454+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:50:03.2761125+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:50:03.2762347+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 13.9308ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":13.9308,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:50:03.2762799+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:50:03.2764059+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 17.3455ms","fields":{"ElapsedMilliseconds":17.3455,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:51:11.1823244+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000001E","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:51:11.1825977+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:0000001E","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:51:11.1827356+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 1.0512ms","fields":{"ElapsedMilliseconds":1.0512,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000001E","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:51:11.1880109+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:51:11.2180140+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:51:11.2189579+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:51:03', Current time (UTC): '26.09.2024 9:51:11'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLL:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:51:11.2194572+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:51:03', Current time (UTC): '26.09.2024 9:51:11'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:51:03', Current time (UTC): '26.09.2024 9:51:11'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLL:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:51:11.2195312+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:51:11.2196993+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:51:11.2260293+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"5\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"5","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:51:11.2275937+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:51:11.2298669+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:51:11.2301802+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:51:11.2305892+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:51:11.2307795+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 11.0079ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":11.0079,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:51:11.2308557+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:51:11.2309904+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 43.8231ms","fields":{"ElapsedMilliseconds":43.8231,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:16.0931376+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000001F","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:54:16.0945840+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:0000001F","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:54:16.0991813+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:16.0992205+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 6.1565ms","fields":{"ElapsedMilliseconds":6.1565,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:0000001F","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:54:16.0994550+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:16.1020679+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:52:11', Current time (UTC): '26.09.2024 9:54:16'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLL:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:16.1024800+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:52:11', Current time (UTC): '26.09.2024 9:54:16'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:52:11', Current time (UTC): '26.09.2024 9:54:16'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLL:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:16.1025755+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:16.1027175+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:16.1080414+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"4\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"4","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:16.1096483+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:16.1464046+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"2","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:16.1466071+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:16.1468283+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:16.1469271+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 44.1328ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":44.1328,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:16.1469570+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:16.1470706+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 48.8433ms","fields":{"ElapsedMilliseconds":48.8433,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:23.3342622+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000020","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:54:23.3345482+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000020","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:54:23.3347072+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.4862ms","fields":{"ElapsedMilliseconds":0.4862,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000020","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:54:23.3364313+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:23.3366088+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:23.3369331+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:23.3370456+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:23.3403285+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:23.3421456+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:23.3434252+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:23.3436046+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:23.3439162+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:23.3440576+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 6.9493ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.9493,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:23.3441055+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:23.3442679+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 7.8624ms","fields":{"ElapsedMilliseconds":7.8624,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:44.8829990+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000021","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:54:44.8831162+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000021","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:54:44.8833706+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.3435ms","fields":{"ElapsedMilliseconds":0.3435,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000021","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:54:44.8840953+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:44.8841973+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:44.8872910+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:44.8882321+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:44.8923618+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"3\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"3","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:44.8974922+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:44.8986780+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:44.8988632+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:44.8991168+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:44.8993048+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 10.9935ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":10.9935,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:44.8993460+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:54:44.8994697+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 15.3887ms","fields":{"ElapsedMilliseconds":15.3887,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:56:19.8297481+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000022","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:56:19.8315989+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLK:00000022","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:56:19.8326849+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 2.2045ms","fields":{"ElapsedMilliseconds":2.2045,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLK:00000022","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLK"}}
{"@timestamp":"2024-09-26T12:56:19.8358161+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:56:19.8360105+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U1D69QMLL:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:56:19.8404835+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:55:44', Current time (UTC): '26.09.2024 9:56:19'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLL:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:56:19.8411336+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:55:44', Current time (UTC): '26.09.2024 9:56:19'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:55:44', Current time (UTC): '26.09.2024 9:56:19'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U1D69QMLL:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:56:19.8412043+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:56:19.8412645+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:56:19.8494497+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"7\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"7","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:56:19.8518214+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:56:19.8563362+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"2","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:56:19.8568702+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:56:19.8605694+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"77546750-d3b1-40b5-8547-072db5fedd4b","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U1D69QMLL:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:56:19.8607340+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 19.4249ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":19.4249,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U1D69QMLL:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:56:19.8619755+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U1D69QMLL:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T12:56:19.8621699+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 27.24ms","fields":{"ElapsedMilliseconds":27.24,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U1D69QMLL:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U1D69QMLL"}}
{"@timestamp":"2024-09-26T14:04:38.6919112+03:00","level":"Information","messageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","message":"User profile is available. Using '\"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys\"' as key repository and Windows DPAPI to encrypt keys at rest.","fields":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"@timestamp":"2024-09-26T14:04:39.2291105+03:00","level":"Information","messageTemplate":"Bus started: {HostAddress}","message":"Bus started: loopback://localhost/","fields":{"HostAddress":"loopback://localhost/","SourceContext":"MassTransit"}}
{"@timestamp":"2024-09-26T14:04:39.4014259+03:00","level":"Information","messageTemplate":"Now listening on: {address}","message":"Now listening on: \"http://localhost:5054\"","fields":{"address":"http://localhost:5054","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T14:04:39.4018237+03:00","level":"Information","messageTemplate":"Application started. Press Ctrl+C to shut down.","message":"Application started. Press Ctrl+C to shut down.","fields":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T14:04:39.4019184+03:00","level":"Information","messageTemplate":"Hosting environment: {EnvName}","message":"Hosting environment: \"Development\"","fields":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T14:04:39.4020097+03:00","level":"Information","messageTemplate":"Content root path: {ContentRoot}","message":"Content root path: \"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api\"","fields":{"ContentRoot":"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-26T14:04:39.7920909+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0J:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6U3C22RJ0J"}}
{"@timestamp":"2024-09-26T14:04:40.0722588+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - 200 null \"text/html;charset=utf-8\" 285.045ms","fields":{"ElapsedMilliseconds":285.045,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0J:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6U3C22RJ0J"}}
{"@timestamp":"2024-09-26T14:04:40.0982505+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0J:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6U3C22RJ0J"}}
{"@timestamp":"2024-09-26T14:04:40.0983219+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:04:40.1010806+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - 200 13800 \"application/javascript; charset=utf-8\" 4.3074ms","fields":{"ElapsedMilliseconds":4.3074,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13800,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0J:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6U3C22RJ0J"}}
{"@timestamp":"2024-09-26T14:04:40.1476213+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - 200 null \"text/javascript; charset=UTF-8\" 49.3618ms","fields":{"ElapsedMilliseconds":49.3618,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000001","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:04:40.2941390+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:04:40.3754988+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - 200 null \"application/json;charset=utf-8\" 81.4922ms","fields":{"ElapsedMilliseconds":81.4922,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000002","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:04:55.6809063+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:04:55.6859604+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0L:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:04:55.6870397+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 6.1245ms","fields":{"ElapsedMilliseconds":6.1245,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:04:55.6883740+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:04:55.6896297+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:04:55.6916275+03:00","level":"Warning","messageTemplate":"Failed to determine the https port for redirect.","message":"Failed to determine the https port for redirect.","fields":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN6U3C22RJ0K:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:04:55.8149670+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:57:19', Current time (UTC): '26.09.2024 11:04:55'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U3C22RJ0K:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:04:55.8237172+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:57:19', Current time (UTC): '26.09.2024 11:04:55'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 9:57:19', Current time (UTC): '26.09.2024 11:04:55'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U3C22RJ0K:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:04:55.8258629+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:04:55.8439226+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:04:56.9567836+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"34\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"34","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:04:57.0341393+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:04:57.1075344+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"4\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"4","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:04:57.1156037+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:04:57.1239318+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:04:57.1268149+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 1280.5353ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":1280.5353,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:04:57.1272055+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:04:57.1328285+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 1444.4771ms","fields":{"ElapsedMilliseconds":1444.4771,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:05:51.6808986+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:05:51.6884337+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0L:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:05:51.6888141+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 8.8816ms","fields":{"ElapsedMilliseconds":8.8816,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:05:51.6903758+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:05:51.6909170+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:05:51.6978959+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:05:51.6983171+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:05:51.7639269+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:05:51.7699797+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:05:51.7722620+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:05:51.7726800+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:05:51.7734299+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:05:51.7737842+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 75.2689ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":75.2689,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:05:51.7738865+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:05:51.7742005+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 83.8557ms","fields":{"ElapsedMilliseconds":83.8557,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:22.4663005+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:07:22.4696521+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0L:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:07:22.4707837+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 4.5748ms","fields":{"ElapsedMilliseconds":4.5748,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:07:22.5014244+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:22.5025843+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:22.5052203+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 11:06:51', Current time (UTC): '26.09.2024 11:07:22'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U3C22RJ0K:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:22.5056305+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 11:06:51', Current time (UTC): '26.09.2024 11:07:22'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 11:06:51', Current time (UTC): '26.09.2024 11:07:22'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U3C22RJ0K:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:22.5057342+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:22.5059546+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:22.5267274+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:22.5661929+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:22.5682483+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:22.5686695+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:22.5692241+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:22.5695337+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 63.3068ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":63.3068,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:22.5696906+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:22.5699110+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 68.5829ms","fields":{"ElapsedMilliseconds":68.5829,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:28.6803536+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:07:28.6805307+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0L:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:07:28.6806851+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.4417ms","fields":{"ElapsedMilliseconds":0.4417,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:07:28.6824404+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:28.6827036+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:28.6835842+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:28.6837725+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:28.6888320+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:28.6957240+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:28.6978226+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:28.6982272+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:28.6986532+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:28.6988707+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 14.957ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":14.957,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:28.6989953+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:28.6992024+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 16.7954ms","fields":{"ElapsedMilliseconds":16.7954,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:38.7042524+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:07:38.7045392+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0L:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:07:38.7048244+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.5235ms","fields":{"ElapsedMilliseconds":0.5235,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:07:38.7060380+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:38.7062686+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:38.7067259+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:38.7068768+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:38.7110692+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:38.7133666+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:38.7155151+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:38.7158827+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:38.7162335+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:38.7163852+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 9.438ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":9.438,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:38.7164458+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:07:38.7166185+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 10.6271ms","fields":{"ElapsedMilliseconds":10.6271,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:06.9701616+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:08:06.9703186+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0L:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:08:06.9704339+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.3387ms","fields":{"ElapsedMilliseconds":0.3387,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:08:06.9715570+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:06.9717083+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:06.9720162+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:06.9721126+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:06.9750184+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:06.9828622+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"3\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"3","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:06.9852263+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:06.9855842+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:06.9859917+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:06.9861322+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 13.967ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":13.967,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:06.9861866+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:06.9864048+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 14.8327ms","fields":{"ElapsedMilliseconds":14.8327,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:24.7014932+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:08:24.7017372+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0L:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:08:24.7020748+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.679ms","fields":{"ElapsedMilliseconds":0.679,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:08:24.7034177+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:24.7036491+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:24.7041222+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:24.7042560+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:24.7071006+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:24.7089900+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:24.7105478+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:24.7108235+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:24.7111505+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:24.7112776+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 6.9635ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.9635,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:24.7113833+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:24.7115427+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 8.175ms","fields":{"ElapsedMilliseconds":8.175,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:38.2925653+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:08:38.2927310+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0L:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:08:38.2928479+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.3321ms","fields":{"ElapsedMilliseconds":0.3321,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:08:38.2941616+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:38.2944008+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:38.2947116+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:38.2948007+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:38.2979258+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:38.3000940+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:38.3020633+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:38.3024024+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:38.3028279+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:38.3029783+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 8.1306ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":8.1306,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:38.3030638+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:38.3040825+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 9.9112ms","fields":{"ElapsedMilliseconds":9.9112,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:46.2869908+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:08:46.2872495+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0L:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:08:46.2874084+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.4978ms","fields":{"ElapsedMilliseconds":0.4978,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:08:46.2883921+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:46.2885842+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:46.2889587+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:46.2890824+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:46.2923760+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:46.2943964+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:46.2961163+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:46.2964902+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:46.2971048+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:46.2972704+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 8.1194ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":8.1194,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:46.2973172+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:46.2974837+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 9.1061ms","fields":{"ElapsedMilliseconds":9.1061,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:54.9619831+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:08:54.9623053+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0L:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:08:54.9625592+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.7269ms","fields":{"ElapsedMilliseconds":0.7269,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:08:54.9638073+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:54.9640098+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:54.9643378+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:54.9644294+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:54.9676077+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:54.9696636+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:54.9723141+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:54.9726040+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:54.9729582+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:54.9730937+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 8.6105ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":8.6105,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:54.9731820+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:08:54.9733903+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 9.6262ms","fields":{"ElapsedMilliseconds":9.6262,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:05.5010632+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:09:05.5012491+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0L:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:09:05.5014101+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.6372ms","fields":{"ElapsedMilliseconds":0.6372,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:09:05.5024422+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:05.5026456+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:05.5028945+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:05.5029748+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:05.5057140+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:05.5074104+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:05.5088481+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:05.5091225+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:05.5094327+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:05.5095431+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 6.5321ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.5321,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:05.5095871+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:05.5097597+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 7.3365ms","fields":{"ElapsedMilliseconds":7.3365,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:17.7149867+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:09:17.7152148+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0L:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:09:17.7153925+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.45ms","fields":{"ElapsedMilliseconds":0.45,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:09:17.7165416+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:17.7167261+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:17.7170193+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:17.7171099+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:17.7206233+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:17.7230778+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:17.7299707+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:17.7302411+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:17.7306676+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:17.7308222+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 13.6109ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":13.6109,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:17.7319069+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:17.7322329+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 15.6986ms","fields":{"ElapsedMilliseconds":15.6986,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:42.4799720+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:09:42.4801678+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0L:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:09:42.4804463+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.5381ms","fields":{"ElapsedMilliseconds":0.5381,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:09:42.4816412+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:42.4818971+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:42.4823227+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:42.4824566+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:42.4851813+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:42.4871327+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:42.4886603+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:42.4889254+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:42.4892414+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:42.4893689+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 6.8616ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.8616,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:42.4894189+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:42.4897554+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 8.1496ms","fields":{"ElapsedMilliseconds":8.1496,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:46.7350618+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:46.7352349+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:46.7354487+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:46.7355165+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:46.7374503+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:46.7391739+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:46.7403508+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:46.7405489+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:46.7408190+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:46.7409359+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 5.3793ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":5.3793,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:46.7409879+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:46.7411066+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 6.1009ms","fields":{"ElapsedMilliseconds":6.1009,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:50.8356502+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:09:50.8358366+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0L:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:09:50.8359990+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.412ms","fields":{"ElapsedMilliseconds":0.412,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:09:50.8369412+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:50.8371006+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:50.8373818+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:50.8374732+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:50.8398101+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:50.8425358+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:50.8442677+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:50.8445033+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:50.8448264+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:50.8449674+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 7.4441ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":7.4441,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:50.8450281+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:50.8451852+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 8.2644ms","fields":{"ElapsedMilliseconds":8.2644,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:53.6670146+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:53.6674234+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:53.6678542+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:53.6679776+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:53.6706918+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:53.6730933+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:53.6798124+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:53.6809539+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:53.6813502+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:53.6815191+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 13.4723ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":13.4723,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:53.6816497+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:09:53.6818274+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 14.9062ms","fields":{"ElapsedMilliseconds":14.9062,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:02.7458848+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:10:02.7462405+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0L:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:10:02.7464467+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.6805ms","fields":{"ElapsedMilliseconds":0.6805,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:10:02.7478123+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:02.7480375+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:02.7484436+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:02.7485575+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:02.7516549+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:02.7540465+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:02.7572406+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"2","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:02.7575813+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:02.7579888+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:02.7581666+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 9.5516ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":9.5516,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:02.7582294+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:02.7583959+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 10.6156ms","fields":{"ElapsedMilliseconds":10.6156,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:06.7581197+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:06.7584452+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:06.7588316+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:06.7589904+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:06.7615491+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:06.7635351+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:06.7648983+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:06.7651178+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:06.7654144+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:06.7655459+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 6.5013ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.5013,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:06.7656049+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:06.7657833+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 7.6662ms","fields":{"ElapsedMilliseconds":7.6662,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:08.7086815+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:10:08.7088534+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0L:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:10:08.7089767+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.3354ms","fields":{"ElapsedMilliseconds":0.3354,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000010","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:10:08.7101267+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:08.7103251+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:08.7107722+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:08.7108853+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:08.7133215+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:08.7163617+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:08.7179946+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:08.7182582+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:08.7185805+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:08.7187214+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 7.7795ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":7.7795,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:08.7187695+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:08.7188887+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 8.7915ms","fields":{"ElapsedMilliseconds":8.7915,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000015","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:18.5053393+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:10:18.5054892+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0L:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:10:18.5056107+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.3197ms","fields":{"ElapsedMilliseconds":0.3197,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000011","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:10:18.5064535+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:18.5065795+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:18.5067805+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:18.5068579+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:18.5087792+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:18.5107274+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:18.5123904+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:18.5125994+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:18.5128568+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:18.5130069+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 6.0949ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.0949,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:18.5130683+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:18.5132255+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 6.7605ms","fields":{"ElapsedMilliseconds":6.7605,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000016","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:29.6145098+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:10:29.6147215+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0L:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:10:29.6148873+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.4443ms","fields":{"ElapsedMilliseconds":0.4443,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000012","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:10:29.6162504+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:29.6164393+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:29.6167489+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:29.6168580+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:29.6192092+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:29.6216222+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:29.6235213+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:29.6238240+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:29.6241976+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:29.6243779+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 7.4481ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":7.4481,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:29.6244557+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:29.6246058+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 8.3876ms","fields":{"ElapsedMilliseconds":8.3876,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000017","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:36.3279949+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:10:36.3281997+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0L:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:10:36.3283325+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.4433ms","fields":{"ElapsedMilliseconds":0.4433,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:10:36.3293958+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:36.3295823+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:36.3300462+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:36.3301641+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:36.3320273+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:36.3340080+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:36.3359053+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:36.3364370+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:36.3368087+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:36.3369901+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 6.7709ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.7709,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:36.3370453+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:36.3371954+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 7.8596ms","fields":{"ElapsedMilliseconds":7.8596,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:50.6895727+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:10:50.6897232+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0L:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:10:50.6898680+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.3168ms","fields":{"ElapsedMilliseconds":0.3168,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0L:00000014","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0L"}}
{"@timestamp":"2024-09-26T14:10:50.6913278+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:50.6915076+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:50.6917923+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:50.6918960+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:50.6943761+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:50.6960576+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:50.6973264+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:50.6975775+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:50.6978672+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:50.6980118+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 6.0598ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.0598,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:50.6980716+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:50.6982124+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 6.9102ms","fields":{"ElapsedMilliseconds":6.9102,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:00000019","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:53.2127224+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:53.2129304+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0K:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:53.2134838+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:53.2137756+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:53.2419331+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"14\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"14","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:53.2472102+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"4\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"4","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:53.2492886+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:53.2496082+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:53.2499644+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0K:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:53.2501723+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 36.2734ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":36.2734,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0K:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:53.2502444+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0K:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:10:53.2505681+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 37.878ms","fields":{"ElapsedMilliseconds":37.878,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0K:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0K"}}
{"@timestamp":"2024-09-26T14:11:33.7269973+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0M:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:11:33.7271590+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0M:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:11:33.7272679+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.3045ms","fields":{"ElapsedMilliseconds":0.3045,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0M:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:11:33.7289124+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:33.7290560+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0N:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:33.7292841+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:33.7293665+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:33.7318174+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:33.7400028+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"3\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"3","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:33.7455441+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:33.7457815+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:33.7460657+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:33.7461859+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 16.7737ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":16.7737,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0N:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:33.7463082+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:33.7464417+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 17.5457ms","fields":{"ElapsedMilliseconds":17.5457,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:56.7303482+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0M:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:11:56.7313332+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0M:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:11:56.7314719+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 1.1924ms","fields":{"ElapsedMilliseconds":1.1924,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0M:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:11:56.7353214+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:56.7355998+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0N:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:56.7373940+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:56.7376292+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:56.7399455+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:56.7418246+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:56.7439478+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:56.7444147+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:56.7448144+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:56.7450721+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 7.3734ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":7.3734,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0N:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:56.7451411+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:56.7453665+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 10.773ms","fields":{"ElapsedMilliseconds":10.773,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:58.6650568+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:58.6652810+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0N:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:58.6655632+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:58.6656682+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:58.6681384+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:58.6745890+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:58.6765103+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:58.6767278+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:58.6769879+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:58.6770987+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 11.384ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":11.384,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0N:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:58.6771507+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:11:58.6772614+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 12.2337ms","fields":{"ElapsedMilliseconds":12.2337,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:06.2056128+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0M:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:12:06.2058963+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0M:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:12:06.2059983+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.6464ms","fields":{"ElapsedMilliseconds":0.6464,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0M:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:12:06.2069693+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:06.2071161+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0N:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:06.2074726+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:06.2075915+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:06.2094238+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:06.2113122+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:06.2125905+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:06.2127992+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:06.2130904+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:06.2132625+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 5.5819ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":5.5819,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0N:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:06.2133230+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:06.2134397+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 6.4926ms","fields":{"ElapsedMilliseconds":6.4926,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:08.7451709+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:08.7453737+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0N:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:08.7456066+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:08.7456960+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:08.7478609+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:08.7500845+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:08.7517276+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:08.7520072+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:08.7523647+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:08.7525083+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 6.7653ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.7653,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0N:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:08.7525615+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:08.7526933+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 7.5921ms","fields":{"ElapsedMilliseconds":7.5921,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:15.6614973+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0M:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:12:15.6616242+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0M:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:12:15.6617265+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.2738ms","fields":{"ElapsedMilliseconds":0.2738,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0M:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:12:15.6627298+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:15.6629193+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0N:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:15.6631897+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:15.6632846+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:15.6653862+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:15.6675840+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:15.6737203+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:15.6740645+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:15.6744478+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:15.6746453+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 11.3009ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":11.3009,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0N:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:15.6747402+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:15.6748960+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 12.1936ms","fields":{"ElapsedMilliseconds":12.1936,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:30.8267778+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0M:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:12:30.8269904+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0M:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:12:30.8270811+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.3801ms","fields":{"ElapsedMilliseconds":0.3801,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0M:00000005","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:12:30.8279615+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:30.8282875+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0N:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:30.8286799+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:30.8288227+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:30.8327138+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:30.8351362+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:30.8367543+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:30.8370049+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:30.8373854+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:30.8375396+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 8.6203ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":8.6203,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0N:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:30.8376097+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:30.8377949+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 9.841ms","fields":{"ElapsedMilliseconds":9.841,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:38.0121979+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0M:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:12:38.0123407+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0M:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:12:38.0124444+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.2824ms","fields":{"ElapsedMilliseconds":0.2824,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0M:00000006","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:12:38.0138441+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:38.0140386+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0N:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:38.0146551+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:38.0148882+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:38.0192954+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:38.0207569+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:38.0228242+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:38.0230853+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:38.0234105+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:38.0235435+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 8.5782ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":8.5782,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0N:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:38.0235906+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:12:38.0237176+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 9.9291ms","fields":{"ElapsedMilliseconds":9.9291,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:13:42.5909151+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0M:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:13:42.5924165+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0M:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:13:42.5973089+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 6.3753ms","fields":{"ElapsedMilliseconds":6.3753,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0M:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:13:42.6035182+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:13:42.6044948+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0N:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:13:42.6051194+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 11:13:38', Current time (UTC): '26.09.2024 11:13:42'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U3C22RJ0N:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:13:42.6054617+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 11:13:38', Current time (UTC): '26.09.2024 11:13:42'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '26.09.2024 11:13:38', Current time (UTC): '26.09.2024 11:13:42'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6U3C22RJ0N:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:13:42.6055165+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:13:42.6055800+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:13:42.6075720+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:13:42.6090092+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:13:42.6104927+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:13:42.6108052+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:13:42.6110980+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:13:42.6112246+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 5.5768ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":5.5768,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0N:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:13:42.6112842+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:13:42.6114296+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 7.9796ms","fields":{"ElapsedMilliseconds":7.9796,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:01.8023847+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0M:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:14:01.8026672+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0M:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:14:01.8028144+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.4752ms","fields":{"ElapsedMilliseconds":0.4752,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0M:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:14:01.8042156+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:01.8043800+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0N:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:01.8046813+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:01.8047692+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:01.8068418+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:01.8094586+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:01.8110594+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:01.8112907+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:01.8116996+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:01.8118063+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 6.9897ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.9897,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0N:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:01.8118594+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:01.8120058+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 7.8068ms","fields":{"ElapsedMilliseconds":7.8068,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:03.7092697+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:03.7094054+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0N:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:03.7097919+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:03.7099578+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:03.7155450+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"4\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"4","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:03.7189684+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:03.7218747+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"2","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:03.7221532+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:03.7224904+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:03.7226932+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 12.6287ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":12.6287,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0N:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:03.7227538+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:03.7228840+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 13.6843ms","fields":{"ElapsedMilliseconds":13.6843,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:0000000B","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:09.9795986+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0M:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:14:09.9798993+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0M:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:14:09.9800094+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.44ms","fields":{"ElapsedMilliseconds":0.44,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0M:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:14:09.9812158+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:09.9814121+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0N:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:09.9817718+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:09.9819262+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:09.9860212+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:09.9880140+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:09.9891109+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:09.9892603+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:09.9894260+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:09.9894901+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 7.4997ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":7.4997,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0N:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:09.9895417+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:09.9896490+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 8.463ms","fields":{"ElapsedMilliseconds":8.463,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:0000000C","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:11.9627844+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:11.9629345+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0N:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:11.9631603+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:11.9632380+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:11.9678543+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:11.9831439+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"14\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"14","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:11.9852558+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"2","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:11.9854805+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:11.9856875+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:11.9859149+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 22.6049ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":22.6049,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0N:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:11.9859652+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:11.9862313+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 23.5523ms","fields":{"ElapsedMilliseconds":23.5523,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:0000000D","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:14.9861821+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0M:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:14:14.9863054+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0M:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:14:14.9864051+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.2528ms","fields":{"ElapsedMilliseconds":0.2528,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0M:0000000A","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0M"}}
{"@timestamp":"2024-09-26T14:14:14.9873695+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:14.9875313+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0N:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:14.9877723+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:14.9878419+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:14.9894580+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:14.9914319+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:14.9929245+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:14.9931077+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:14.9933454+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:14.9934558+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 5.5769ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":5.5769,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0N:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:14.9935088+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:14.9939424+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 6.5814ms","fields":{"ElapsedMilliseconds":6.5814,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:0000000E","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:17.4638231+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:17.4639371+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6U3C22RJ0N:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:17.4641177+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:17.4641904+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:17.4661495+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:17.4672315+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:17.4682066+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:17.4683829+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:17.4685705+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c1c93b1f-771e-4407-bc6d-baf47ea1dda2","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6U3C22RJ0N:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:17.4686560+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 4.43ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":4.43,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6U3C22RJ0N:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:17.4686901+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6U3C22RJ0N:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
{"@timestamp":"2024-09-26T14:14:17.4687931+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 4.9915ms","fields":{"ElapsedMilliseconds":4.9915,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6U3C22RJ0N:0000000F","RequestPath":"/api/tokens","ConnectionId":"0HN6U3C22RJ0N"}}
