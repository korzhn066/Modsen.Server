{"@timestamp":"2024-09-27T09:59:17.7794038+03:00","level":"Information","messageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","message":"User profile is available. Using '\"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys\"' as key repository and Windows DPAPI to encrypt keys at rest.","fields":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"@timestamp":"2024-09-27T09:59:18.0237071+03:00","level":"Information","messageTemplate":"Bus started: {HostAddress}","message":"Bus started: loopback://localhost/","fields":{"HostAddress":"loopback://localhost/","SourceContext":"MassTransit"}}
{"@timestamp":"2024-09-27T09:59:18.1177186+03:00","level":"Information","messageTemplate":"Now listening on: {address}","message":"Now listening on: \"http://localhost:5054\"","fields":{"address":"http://localhost:5054","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-27T09:59:18.1180239+03:00","level":"Information","messageTemplate":"Application started. Press Ctrl+C to shut down.","message":"Application started. Press Ctrl+C to shut down.","fields":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-27T09:59:18.1180908+03:00","level":"Information","messageTemplate":"Hosting environment: {EnvName}","message":"Hosting environment: \"Development\"","fields":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-27T09:59:18.1181129+03:00","level":"Information","messageTemplate":"Content root path: {ContentRoot}","message":"Content root path: \"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api\"","fields":{"ContentRoot":"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-27T09:59:26.0043095+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UO7K1GT7P:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6UO7K1GT7P"}}
{"@timestamp":"2024-09-27T09:59:26.3923147+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - 200 null \"text/html;charset=utf-8\" 394.8765ms","fields":{"ElapsedMilliseconds":394.8765,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UO7K1GT7P:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6UO7K1GT7P"}}
{"@timestamp":"2024-09-27T09:59:26.4079532+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UO7K1GT7P:00000002","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6UO7K1GT7P"}}
{"@timestamp":"2024-09-27T09:59:26.4192230+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UO7K1GT7O:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6UO7K1GT7O"}}
{"@timestamp":"2024-09-27T09:59:26.4237224+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - 200 13800 \"application/javascript; charset=utf-8\" 4.4845ms","fields":{"ElapsedMilliseconds":4.4845,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13800,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UO7K1GT7O:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6UO7K1GT7O"}}
{"@timestamp":"2024-09-27T09:59:26.7839498+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - 200 null \"text/javascript; charset=UTF-8\" 376.1313ms","fields":{"ElapsedMilliseconds":376.1313,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UO7K1GT7P:00000002","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6UO7K1GT7P"}}
{"@timestamp":"2024-09-27T09:59:26.8253931+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UO7K1GT7P:00000003","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6UO7K1GT7P"}}
{"@timestamp":"2024-09-27T09:59:26.9411903+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - 200 null \"application/json;charset=utf-8\" 115.7856ms","fields":{"ElapsedMilliseconds":115.7856,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UO7K1GT7P:00000003","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6UO7K1GT7P"}}
{"@timestamp":"2024-09-27T10:08:04.6491805+03:00","level":"Information","messageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","message":"User profile is available. Using '\"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys\"' as key repository and Windows DPAPI to encrypt keys at rest.","fields":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"@timestamp":"2024-09-27T10:08:04.8618401+03:00","level":"Information","messageTemplate":"Bus started: {HostAddress}","message":"Bus started: loopback://localhost/","fields":{"HostAddress":"loopback://localhost/","SourceContext":"MassTransit"}}
{"@timestamp":"2024-09-27T10:08:04.9676062+03:00","level":"Information","messageTemplate":"Now listening on: {address}","message":"Now listening on: \"http://localhost:5054\"","fields":{"address":"http://localhost:5054","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-27T10:08:04.9679050+03:00","level":"Information","messageTemplate":"Application started. Press Ctrl+C to shut down.","message":"Application started. Press Ctrl+C to shut down.","fields":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-27T10:08:04.9679794+03:00","level":"Information","messageTemplate":"Hosting environment: {EnvName}","message":"Hosting environment: \"Development\"","fields":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-27T10:08:04.9680058+03:00","level":"Information","messageTemplate":"Content root path: {ContentRoot}","message":"Content root path: \"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api\"","fields":{"ContentRoot":"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-27T10:08:05.7398910+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UOCH0AP5Q:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6UOCH0AP5Q"}}
{"@timestamp":"2024-09-27T10:08:05.9698370+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - 200 null \"text/html;charset=utf-8\" 235.422ms","fields":{"ElapsedMilliseconds":235.422,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UOCH0AP5Q:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6UOCH0AP5Q"}}
{"@timestamp":"2024-09-27T10:08:05.9830315+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UOCH0AP5Q:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6UOCH0AP5Q"}}
{"@timestamp":"2024-09-27T10:08:05.9864936+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - 200 13800 \"application/javascript; charset=utf-8\" 3.5355ms","fields":{"ElapsedMilliseconds":3.5355,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13800,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UOCH0AP5Q:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6UOCH0AP5Q"}}
{"@timestamp":"2024-09-27T10:08:05.9906165+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UOCH0AP5Q:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6UOCH0AP5Q"}}
{"@timestamp":"2024-09-27T10:08:06.0608787+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - 200 null \"text/javascript; charset=UTF-8\" 70.2974ms","fields":{"ElapsedMilliseconds":70.2974,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UOCH0AP5Q:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6UOCH0AP5Q"}}
{"@timestamp":"2024-09-27T10:08:06.1911925+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UOCH0AP5Q:00000004","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6UOCH0AP5Q"}}
{"@timestamp":"2024-09-27T10:08:06.3247862+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - 200 null \"application/json;charset=utf-8\" 133.7355ms","fields":{"ElapsedMilliseconds":133.7355,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UOCH0AP5Q:00000004","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6UOCH0AP5Q"}}
{"@timestamp":"2024-09-27T10:08:53.1590307+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UOCH0AP5R:00000001","RequestPath":"/api/users","ConnectionId":"0HN6UOCH0AP5R"}}
{"@timestamp":"2024-09-27T10:08:53.1629700+03:00","level":"Warning","messageTemplate":"Failed to determine the https port for redirect.","message":"Failed to determine the https port for redirect.","fields":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN6UOCH0AP5R:00000001","RequestPath":"/api/users","ConnectionId":"0HN6UOCH0AP5R"}}
{"@timestamp":"2024-09-27T10:08:53.8443183+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"405 HTTP Method Not Supported\"'","fields":{"EndpointName":"405 HTTP Method Not Supported","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UOCH0AP5R:00000001","RequestPath":"/api/users","ConnectionId":"0HN6UOCH0AP5R"}}
{"@timestamp":"2024-09-27T10:08:53.8445139+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"405 HTTP Method Not Supported\"'","fields":{"EndpointName":"405 HTTP Method Not Supported","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UOCH0AP5R:00000001","RequestPath":"/api/users","ConnectionId":"0HN6UOCH0AP5R"}}
{"@timestamp":"2024-09-27T10:08:53.8446663+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 405 0 null 685.6801ms","fields":{"ElapsedMilliseconds":685.6801,"StatusCode":405,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UOCH0AP5R:00000001","RequestPath":"/api/users","ConnectionId":"0HN6UOCH0AP5R"}}
{"@timestamp":"2024-09-27T10:08:57.2201281+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/authentication/login\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UOCH0AP5R:00000002","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UOCH0AP5R"}}
{"@timestamp":"2024-09-27T10:08:57.2221063+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"405 HTTP Method Not Supported\"'","fields":{"EndpointName":"405 HTTP Method Not Supported","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UOCH0AP5R:00000002","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UOCH0AP5R"}}
{"@timestamp":"2024-09-27T10:08:57.2222177+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"405 HTTP Method Not Supported\"'","fields":{"EndpointName":"405 HTTP Method Not Supported","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UOCH0AP5R:00000002","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UOCH0AP5R"}}
{"@timestamp":"2024-09-27T10:08:57.2230332+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/authentication/login\"\"\" - 405 0 null 2.3676ms","fields":{"ElapsedMilliseconds":2.3676,"StatusCode":405,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UOCH0AP5R:00000002","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UOCH0AP5R"}}
{"@timestamp":"2024-09-27T10:10:25.5708488+03:00","level":"Information","messageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","message":"User profile is available. Using '\"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys\"' as key repository and Windows DPAPI to encrypt keys at rest.","fields":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"@timestamp":"2024-09-27T10:10:25.9438345+03:00","level":"Information","messageTemplate":"Bus started: {HostAddress}","message":"Bus started: loopback://localhost/","fields":{"HostAddress":"loopback://localhost/","SourceContext":"MassTransit"}}
{"@timestamp":"2024-09-27T10:10:26.0883100+03:00","level":"Information","messageTemplate":"Now listening on: {address}","message":"Now listening on: \"http://localhost:5054\"","fields":{"address":"http://localhost:5054","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-27T10:10:26.0886379+03:00","level":"Information","messageTemplate":"Application started. Press Ctrl+C to shut down.","message":"Application started. Press Ctrl+C to shut down.","fields":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-27T10:10:26.0887157+03:00","level":"Information","messageTemplate":"Hosting environment: {EnvName}","message":"Hosting environment: \"Development\"","fields":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-27T10:10:26.0887401+03:00","level":"Information","messageTemplate":"Content root path: {ContentRoot}","message":"Content root path: \"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api\"","fields":{"ContentRoot":"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-27T10:10:27.0431862+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882O:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6UODR3882O"}}
{"@timestamp":"2024-09-27T10:10:27.3546561+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - 200 null \"text/html;charset=utf-8\" 316.9121ms","fields":{"ElapsedMilliseconds":316.9121,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882O:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6UODR3882O"}}
{"@timestamp":"2024-09-27T10:10:27.3658969+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882O:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6UODR3882O"}}
{"@timestamp":"2024-09-27T10:10:27.3683009+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - 200 13800 \"application/javascript; charset=utf-8\" 2.461ms","fields":{"ElapsedMilliseconds":2.461,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13800,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882O:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6UODR3882O"}}
{"@timestamp":"2024-09-27T10:10:27.3759011+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882O:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6UODR3882O"}}
{"@timestamp":"2024-09-27T10:10:27.4228917+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - 200 null \"text/javascript; charset=UTF-8\" 47.0416ms","fields":{"ElapsedMilliseconds":47.0416,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882O:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6UODR3882O"}}
{"@timestamp":"2024-09-27T10:10:27.4662736+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882O:00000004","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6UODR3882O"}}
{"@timestamp":"2024-09-27T10:10:27.5893092+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - 200 null \"application/json;charset=utf-8\" 123.0648ms","fields":{"ElapsedMilliseconds":123.0648,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882O:00000004","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6UODR3882O"}}
{"@timestamp":"2024-09-27T10:11:00.6092636+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/authentication/login\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:00.6140640+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882Q:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:00.6149483+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/authentication/login\"\"\" - 204 null null 5.7284ms","fields":{"ElapsedMilliseconds":5.7284,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:00.6165437+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"POST\" \"http\"://\"localhost:5054\"\"\"\"/api/authentication/login\"\"\" - \"application/json\" 46","fields":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":46,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882R:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:00.6172391+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882R:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:00.6185020+03:00","level":"Warning","messageTemplate":"Failed to determine the https port for redirect.","message":"Failed to determine the https port for redirect.","fields":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN6UODR3882R:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:00.7245759+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenMalformedException","Message":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","Source":"Microsoft.IdentityModel.JsonWebTokens","StackTraceString":"   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken.ReadToken(ReadOnlyMemory`1 encodedTokenMemory)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebToken..ctor(String jwtEncodedString)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ReadToken(String token, TokenValidationParameters validationParameters)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2147024809,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR3882R:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:00.7326009+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX14100: JWT is not well formed, there are no dots (.).\nThe token needs to be in JWS or JWE Compact Serialization Format. (JWS): 'EncodedHeader.EncodedPayload.EncodedSignature'. (JWE): 'EncodedProtectedHeader.EncodedEncryptedKey.EncodedInitializationVector.EncodedCiphertext.EncodedAuthenticationTag'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR3882R:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:00.7343234+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882R:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:00.7481342+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Login\\\", controller = \\\"Authentication\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Modsen.Server.Authentication.Application.Models.Authentication.LoginModel)\" on controller \"Modsen.Server.Authentication.Api.Controllers.AuthenticationController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Login\", controller = \"Authentication\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Modsen.Server.Authentication.Application.Models.Authentication.LoginModel)","Controller":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"95f5c1d7-0de4-4834-a2a9-62bf276202ae","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:03.6391117+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"67\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"67","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"95f5c1d7-0de4-4834-a2a9-62bf276202ae","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:03.7971561+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"4\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"4","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"95f5c1d7-0de4-4834-a2a9-62bf276202ae","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:03.8097885+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"95f5c1d7-0de4-4834-a2a9-62bf276202ae","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:03.8700813+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"6\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"6","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"95f5c1d7-0de4-4834-a2a9-62bf276202ae","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:03.8775948+03:00","level":"Information","messageTemplate":"User login","message":"User login","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.Commands.LoginApplicationUser","ActionId":"95f5c1d7-0de4-4834-a2a9-62bf276202ae","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:03.9259221+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"95f5c1d7-0de4-4834-a2a9-62bf276202ae","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:03.9313339+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)\" in 3179.5106ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":3179.5106,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR3882R:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:03.9317749+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882R:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:03.9391678+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"POST\" \"http\"://\"localhost:5054\"\"\"\"/api/authentication/login\"\"\" - 200 null \"text/plain; charset=utf-8\" 3322.5953ms","fields":{"ElapsedMilliseconds":3322.5953,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882R:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:07.9917159+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000002","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:07.9930483+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882Q:00000002","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:07.9932727+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 1.8102ms","fields":{"ElapsedMilliseconds":1.8102,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000002","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:07.9946801+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:07.9950246+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882Q:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:08.0271002+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882Q:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:08.0301783+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:08.0921350+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:08.1416943+03:00","level":"Warning","messageTemplate":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","message":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","fields":{"EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:08.1419273+03:00","level":"Warning","messageTemplate":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","message":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","fields":{"EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:08.1471291+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"2","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:08.1489246+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:08.1572281+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:08.1582180+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:08.1633322+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 133.0311ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":133.0311,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR3882Q:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:08.1634457+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882Q:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:08.1636671+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 169.0902ms","fields":{"ElapsedMilliseconds":169.0902,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:13.6288901+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:13.6293332+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882Q:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:13.6297570+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.9566ms","fields":{"ElapsedMilliseconds":0.9566,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:11:13.6319975+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882R:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:13.6323627+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882R:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:13.6355875+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882R:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:13.6393188+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:13.6706267+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:13.6729811+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:13.6750358+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:13.6754328+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:13.6770640+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:13.6774040+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 37.8545ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":37.8545,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR3882R:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:13.6775761+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882R:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:11:13.6780014+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 46.0114ms","fields":{"ElapsedMilliseconds":46.0114,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882R:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:12:10.4048036+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000005","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:10.4050855+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882Q:00000005","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:10.4053245+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 0.8724ms","fields":{"ElapsedMilliseconds":0.8724,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000005","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:10.4065096+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000006","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:10.4068998+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882Q:00000006","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:10.4083045+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882Q:00000006","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:10.4085557+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000006","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:10.4093704+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000006","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:10.4133313+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"2","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000006","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:10.4185145+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000006","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:10.4195666+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000006","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:10.4198379+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000006","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:10.4200327+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 11.3877ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":11.3877,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR3882Q:00000006","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:10.4200953+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882Q:00000006","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:10.4202360+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 13.7696ms","fields":{"ElapsedMilliseconds":13.7696,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000006","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.7223348+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users/admin-role\"\"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/admin-role","QueryString":"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000007","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.7227075+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882Q:00000007","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.7229340+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users/admin-role\"\"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9\" - 204 null null 0.5927ms","fields":{"ElapsedMilliseconds":0.5927,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/admin-role","QueryString":"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000007","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.7237147+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"PUT\" \"http\"://\"localhost:5054\"\"\"\"/api/users/admin-role\"\"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9\" - \"application/json\" 2","fields":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json","ContentLength":2,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/admin-role","QueryString":"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000008","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.7244443+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882Q:00000008","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.7279200+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 7:12:13', Current time (UTC): '27.09.2024 7:12:23'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR3882Q:00000008","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.7288150+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 7:12:13', Current time (UTC): '27.09.2024 7:12:23'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 7:12:13', Current time (UTC): '27.09.2024 7:12:23'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR3882Q:00000008","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.7309355+03:00","level":"Information","messageTemplate":"Authorization failed. {Reason}","message":"Authorization failed. \"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)\"","fields":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN6UODR3882Q:00000008","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.7348937+03:00","level":"Information","messageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","message":"AuthenticationScheme: \"Bearer\" was challenged.","fields":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR3882Q:00000008","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.7350549+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"PUT\" \"http\"://\"localhost:5054\"\"\"\"/api/users/admin-role\"\"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9\" - 401 0 null 11.3602ms","fields":{"ElapsedMilliseconds":11.3602,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/admin-role","QueryString":"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000008","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.7370586+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.7371965+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882Q:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.7373143+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.2841ms","fields":{"ElapsedMilliseconds":0.2841,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.7382008+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882R:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:12:23.7383478+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882R:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:12:23.7387968+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 7:12:13', Current time (UTC): '27.09.2024 7:12:23'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR3882R:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:12:23.7389920+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 7:12:13', Current time (UTC): '27.09.2024 7:12:23'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 7:12:13', Current time (UTC): '27.09.2024 7:12:23'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR3882R:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:12:23.7390453+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882R:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:12:23.7391167+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:12:23.7419508+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:12:23.7434860+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:12:23.7451540+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:12:23.7455123+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:12:23.7459561+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:12:23.7461255+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 6.9522ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.9522,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR3882R:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:12:23.7461970+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882R:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:12:23.7463912+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 8.2154ms","fields":{"ElapsedMilliseconds":8.2154,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882R:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:12:23.7488129+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"PUT\" \"http\"://\"localhost:5054\"\"\"\"/api/users/admin-role\"\"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9\" - \"application/json\" 2","fields":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json","ContentLength":2,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/admin-role","QueryString":"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:0000000A","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.7489379+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882Q:0000000A","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.7492611+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882Q:0000000A","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.7511083+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"AddAdminRole\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAdminRole(System.String)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"AddAdminRole\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAdminRole(System.String)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4fb175a4-f43f-4b56-ab64-8a06559570f5","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000A","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.8044583+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4fb175a4-f43f-4b56-ab64-8a06559570f5","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000A","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.8143419+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedRoleName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4fb175a4-f43f-4b56-ab64-8a06559570f5","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000A","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.8315444+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[UserId], [a].[RoleId]\r\nFROM [AspNetUserRoles] AS [a]\r\nWHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[UserId], [a].[RoleId]\r\nFROM [AspNetUserRoles] AS [a]\r\nWHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4fb175a4-f43f-4b56-ab64-8a06559570f5","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000A","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.8342437+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedRoleName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4fb175a4-f43f-4b56-ab64-8a06559570f5","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000A","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.8470754+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4fb175a4-f43f-4b56-ab64-8a06559570f5","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000A","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.8799104+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"4\"ms) [Parameters=[\"@p0='?' (Size = 450), @p1='?' (Size = 450), @p19='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p20='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET NOCOUNT ON;\r\nINSERT INTO [AspNetUserRoles] ([RoleId], [UserId])\r\nVALUES (@p0, @p1);\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17, [UserStatus] = @p18\r\nOUTPUT 1\r\nWHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;\"","fields":{"elapsed":"4","parameters":"@p0='?' (Size = 450), @p1='?' (Size = 450), @p19='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p20='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [AspNetUserRoles] ([RoleId], [UserId])\r\nVALUES (@p0, @p1);\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17, [UserStatus] = @p18\r\nOUTPUT 1\r\nWHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4fb175a4-f43f-4b56-ab64-8a06559570f5","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000A","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.8965978+03:00","level":"Information","messageTemplate":"User get role","message":"User get role","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.AddApplicationUserToRoleByIdHandler","ActionId":"4fb175a4-f43f-4b56-ab64-8a06559570f5","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000A","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.8993268+03:00","level":"Information","messageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","message":"Executing StatusCodeResult, setting HTTP status code 204","fields":{"StatusCode":204,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"4fb175a4-f43f-4b56-ab64-8a06559570f5","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000A","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.8994078+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)\" in 148.25ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":148.25,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR3882Q:0000000A","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.8994477+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882Q:0000000A","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.8996089+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"PUT\" \"http\"://\"localhost:5054\"\"\"\"/api/users/admin-role\"\"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9\" - 204 null null 150.84ms","fields":{"ElapsedMilliseconds":150.84,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/admin-role","QueryString":"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:0000000A","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.9016413+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.9017734+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882Q:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.9019072+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 0.3013ms","fields":{"ElapsedMilliseconds":0.3013,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.9025531+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.9026942+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882Q:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.9030114+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882Q:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.9031010+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.9099553+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.9126830+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.9154843+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.9215814+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.9218692+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.9220438+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 18.8974ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":18.8974,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR3882Q:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.9220848+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882Q:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:23.9222343+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 19.7046ms","fields":{"ElapsedMilliseconds":19.7046,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:0000000C","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2008104+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users/status\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/status","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:0000000D","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2009443+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882Q:0000000D","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2010627+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users/status\"\"\" - 204 null null 0.2961ms","fields":{"ElapsedMilliseconds":0.2961,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/status","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:0000000D","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2017106+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"PUT\" \"http\"://\"localhost:5054\"\"\"\"/api/users/status\"\"\" - \"application/json\" 60","fields":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json","ContentLength":60,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/status","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:0000000E","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2017976+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882Q:0000000E","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2020807+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882Q:0000000E","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2039047+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"ChangeUserStatus\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeUserStatus(Modsen.Server.Authentication.Application.Features.ApplicationUser.Commands.ChangeApplicationUserStatus)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"ChangeUserStatus\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeUserStatus(Modsen.Server.Authentication.Application.Features.ApplicationUser.Commands.ChangeApplicationUserStatus)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000E","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2085719+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000E","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2105597+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000E","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2119573+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000E","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2123301+03:00","level":"Information","messageTemplate":"User change status","message":"User change status","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.ChangeApplicationUserStatusHandler","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000E","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2125742+03:00","level":"Information","messageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","message":"Executing StatusCodeResult, setting HTTP status code 204","fields":{"StatusCode":204,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000E","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2126230+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)\" in 8.6761ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":8.6761,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR3882Q:0000000E","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2126622+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882Q:0000000E","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2127862+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"PUT\" \"http\"://\"localhost:5054\"\"\"\"/api/users/status\"\"\" - 204 null null 11.0877ms","fields":{"ElapsedMilliseconds":11.0877,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/status","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:0000000E","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2145798+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:0000000F","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2147173+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882Q:0000000F","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2150132+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882Q:0000000F","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2151026+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000F","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2154210+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000F","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2169014+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000F","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2182324+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"0","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000F","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2189756+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"0","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000F","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2191216+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:0000000F","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2192528+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 4.1048ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":4.1048,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR3882Q:0000000F","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2192892+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882Q:0000000F","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:25.2193979+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 4.8345ms","fields":{"ElapsedMilliseconds":4.8345,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:0000000F","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.0978107+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users/admin-role\"\"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/admin-role","QueryString":"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000010","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.0979760+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882Q:00000010","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.0981125+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users/admin-role\"\"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9\" - 204 null null 0.3605ms","fields":{"ElapsedMilliseconds":0.3605,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/admin-role","QueryString":"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000010","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.0987262+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"DELETE\" \"http\"://\"localhost:5054\"\"\"\"/api/users/admin-role\"\"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/admin-role","QueryString":"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000011","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.0988109+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882Q:00000011","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.0990789+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882Q:00000011","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1008363+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"DenyAdminRole\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DenyAdminRole(System.String)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"DenyAdminRole\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DenyAdminRole(System.String)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f6f5fe82-4821-4c86-8deb-9e62e104835a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000011","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1045181+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f6f5fe82-4821-4c86-8deb-9e62e104835a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000011","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1078596+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedRoleName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f6f5fe82-4821-4c86-8deb-9e62e104835a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000011","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1088982+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[UserId], [a].[RoleId]\r\nFROM [AspNetUserRoles] AS [a]\r\nWHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1\"","fields":{"elapsed":"0","parameters":"@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[UserId], [a].[RoleId]\r\nFROM [AspNetUserRoles] AS [a]\r\nWHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f6f5fe82-4821-4c86-8deb-9e62e104835a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000011","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1119018+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__normalizedRoleName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0\"","fields":{"elapsed":"0","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f6f5fe82-4821-4c86-8deb-9e62e104835a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000011","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1151145+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f6f5fe82-4821-4c86-8deb-9e62e104835a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000011","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1214434+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"3\"ms) [Parameters=[\"@p0='?' (Size = 450), @p1='?' (Size = 450), @p19='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p20='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET NOCOUNT ON;\r\nDELETE FROM [AspNetUserRoles]\r\nOUTPUT 1\r\nWHERE [RoleId] = @p0 AND [UserId] = @p1;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17, [UserStatus] = @p18\r\nOUTPUT 1\r\nWHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;\"","fields":{"elapsed":"3","parameters":"@p0='?' (Size = 450), @p1='?' (Size = 450), @p19='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p20='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [AspNetUserRoles]\r\nOUTPUT 1\r\nWHERE [RoleId] = @p0 AND [UserId] = @p1;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17, [UserStatus] = @p18\r\nOUTPUT 1\r\nWHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f6f5fe82-4821-4c86-8deb-9e62e104835a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000011","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1242863+03:00","level":"Information","messageTemplate":"User deny role","message":"User deny role","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.DenyApplicationUserRoleByIdHandler","ActionId":"f6f5fe82-4821-4c86-8deb-9e62e104835a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000011","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1244881+03:00","level":"Information","messageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","message":"Executing StatusCodeResult, setting HTTP status code 204","fields":{"StatusCode":204,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"f6f5fe82-4821-4c86-8deb-9e62e104835a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000011","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1245478+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)\" in 23.6652ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":23.6652,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR3882Q:00000011","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1245853+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882Q:00000011","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1247451+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"DELETE\" \"http\"://\"localhost:5054\"\"\"\"/api/users/admin-role\"\"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9\" - 204 null null 26.0161ms","fields":{"ElapsedMilliseconds":26.0161,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/admin-role","QueryString":"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000011","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1266416+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1268106+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882Q:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1271248+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882Q:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1272071+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1275322+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1289530+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1306849+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1315896+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"0","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1319968+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882Q:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1321803+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 4.9271ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":4.9271,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR3882Q:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1322215+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882Q:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:12:28.1323735+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 5.7261ms","fields":{"ElapsedMilliseconds":5.7261,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:13:45.0931360+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:13:45.0939795+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882Q:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:13:45.0968225+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 3.0524ms","fields":{"ElapsedMilliseconds":3.0524,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882Q:00000013","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882Q"}}
{"@timestamp":"2024-09-27T10:13:45.0978183+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882R:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:13:45.0980276+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882R:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:13:45.0985783+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 7:13:23', Current time (UTC): '27.09.2024 7:13:45'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR3882R:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:13:45.0987845+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 7:13:23', Current time (UTC): '27.09.2024 7:13:45'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 7:13:23', Current time (UTC): '27.09.2024 7:13:45'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR3882R:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:13:45.0988291+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882R:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:13:45.0988906+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:13:45.1029879+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:13:45.1087895+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:13:45.1101153+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:13:45.1102724+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:13:45.1105591+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882R:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:13:45.1106675+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 11.7425ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":11.7425,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR3882R:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:13:45.1107097+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882R:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:13:45.1108959+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 13.0934ms","fields":{"ElapsedMilliseconds":13.0934,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882R:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882R"}}
{"@timestamp":"2024-09-27T10:18:57.5024587+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882S:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:57.5032880+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882S:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:57.5034744+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 1.164ms","fields":{"ElapsedMilliseconds":1.164,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882S:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:57.5074272+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882T:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882T"}}
{"@timestamp":"2024-09-27T10:18:57.5076583+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882T:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882T"}}
{"@timestamp":"2024-09-27T10:18:57.5082711+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 7:14:45', Current time (UTC): '27.09.2024 7:18:57'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR3882T:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882T"}}
{"@timestamp":"2024-09-27T10:18:57.5085051+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 7:14:45', Current time (UTC): '27.09.2024 7:18:57'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 7:14:45', Current time (UTC): '27.09.2024 7:18:57'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR3882T:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882T"}}
{"@timestamp":"2024-09-27T10:18:57.5085656+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882T:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882T"}}
{"@timestamp":"2024-09-27T10:18:57.5086484+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882T:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882T"}}
{"@timestamp":"2024-09-27T10:18:57.5592447+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"4\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"4","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882T:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882T"}}
{"@timestamp":"2024-09-27T10:18:57.5605993+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882T:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882T"}}
{"@timestamp":"2024-09-27T10:18:57.5644662+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"3\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"3","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882T:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882T"}}
{"@timestamp":"2024-09-27T10:18:57.5646921+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882T:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882T"}}
{"@timestamp":"2024-09-27T10:18:57.5650124+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882T:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882T"}}
{"@timestamp":"2024-09-27T10:18:57.5651233+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 56.4206ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":56.4206,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR3882T:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882T"}}
{"@timestamp":"2024-09-27T10:18:57.5651751+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882T:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882T"}}
{"@timestamp":"2024-09-27T10:18:57.5653276+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 57.9674ms","fields":{"ElapsedMilliseconds":57.9674,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882T:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882T"}}
{"@timestamp":"2024-09-27T10:18:58.1989741+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882S:00000002","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:58.1991128+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882S:00000002","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:58.1992023+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 0.2885ms","fields":{"ElapsedMilliseconds":0.2885,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882S:00000002","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:58.2000033+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882S:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:58.2001728+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882S:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:58.2004750+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882S:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:58.2005620+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882S:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:58.2008918+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882S:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:58.2029948+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"2","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882S:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:58.2063992+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"3\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"3","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882S:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:58.2075941+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882S:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:58.2078531+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882S:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:58.2081416+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 7.5342ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":7.5342,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR3882S:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:58.2082100+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882S:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:58.2084058+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 8.4073ms","fields":{"ElapsedMilliseconds":8.4073,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882S:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:59.1939251+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882S:00000004","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:59.1942631+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882S:00000004","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:59.1949166+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882S:00000004","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:59.1950423+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882S:00000004","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:59.1957870+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882S:00000004","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:59.1980673+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882S:00000004","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:59.1997114+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882S:00000004","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:59.2006909+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882S:00000004","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:59.2009735+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882S:00000004","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:59.2011844+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 6.0577ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.0577,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR3882S:00000004","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:59.2012469+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882S:00000004","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:18:59.2014017+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 7.6067ms","fields":{"ElapsedMilliseconds":7.6067,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882S:00000004","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882S"}}
{"@timestamp":"2024-09-27T10:25:19.0299371+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882U:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882U"}}
{"@timestamp":"2024-09-27T10:25:19.0309951+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882U:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882U"}}
{"@timestamp":"2024-09-27T10:25:19.0319131+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 3.961ms","fields":{"ElapsedMilliseconds":3.961,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882U:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882U"}}
{"@timestamp":"2024-09-27T10:25:19.0341799+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882V:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882V"}}
{"@timestamp":"2024-09-27T10:25:19.0345127+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882V:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882V"}}
{"@timestamp":"2024-09-27T10:25:19.0353567+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 7:19:57', Current time (UTC): '27.09.2024 7:25:19'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR3882V:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882V"}}
{"@timestamp":"2024-09-27T10:25:19.0357522+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 7:19:57', Current time (UTC): '27.09.2024 7:25:19'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 7:19:57', Current time (UTC): '27.09.2024 7:25:19'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR3882V:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882V"}}
{"@timestamp":"2024-09-27T10:25:19.0362349+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882V:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882V"}}
{"@timestamp":"2024-09-27T10:25:19.0363841+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882V:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882V"}}
{"@timestamp":"2024-09-27T10:25:19.0398733+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882V:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882V"}}
{"@timestamp":"2024-09-27T10:25:19.0470336+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882V:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882V"}}
{"@timestamp":"2024-09-27T10:25:19.0487230+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882V:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882V"}}
{"@timestamp":"2024-09-27T10:25:19.0489268+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882V:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882V"}}
{"@timestamp":"2024-09-27T10:25:19.0492518+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882V:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882V"}}
{"@timestamp":"2024-09-27T10:25:19.0493800+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 12.9341ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":12.9341,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR3882V:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882V"}}
{"@timestamp":"2024-09-27T10:25:19.0494284+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882V:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882V"}}
{"@timestamp":"2024-09-27T10:25:19.0495935+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 15.4823ms","fields":{"ElapsedMilliseconds":15.4823,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882V:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR3882V"}}
{"@timestamp":"2024-09-27T10:25:25.8134677+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882U:00000002","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882U"}}
{"@timestamp":"2024-09-27T10:25:25.8137690+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882U:00000002","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882U"}}
{"@timestamp":"2024-09-27T10:25:25.8139218+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 0.6244ms","fields":{"ElapsedMilliseconds":0.6244,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882U:00000002","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882U"}}
{"@timestamp":"2024-09-27T10:25:25.8149464+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882U:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882U"}}
{"@timestamp":"2024-09-27T10:25:25.8151045+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR3882U:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882U"}}
{"@timestamp":"2024-09-27T10:25:25.8154514+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882U:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882U"}}
{"@timestamp":"2024-09-27T10:25:25.8155395+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882U:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882U"}}
{"@timestamp":"2024-09-27T10:25:25.8160071+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882U:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882U"}}
{"@timestamp":"2024-09-27T10:25:25.8187639+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882U:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882U"}}
{"@timestamp":"2024-09-27T10:25:25.8203913+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882U:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882U"}}
{"@timestamp":"2024-09-27T10:25:25.8226569+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882U:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882U"}}
{"@timestamp":"2024-09-27T10:25:25.8230522+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR3882U:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882U"}}
{"@timestamp":"2024-09-27T10:25:25.8234467+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 7.8329ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":7.8329,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR3882U:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882U"}}
{"@timestamp":"2024-09-27T10:25:25.8235157+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR3882U:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882U"}}
{"@timestamp":"2024-09-27T10:25:25.8237319+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 8.7982ms","fields":{"ElapsedMilliseconds":8.7982,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR3882U:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR3882U"}}
{"@timestamp":"2024-09-27T11:02:39.6583002+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:02:39.6606675+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:02:39.6614438+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 3.2002ms","fields":{"ElapsedMilliseconds":3.2002,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:02:39.6628731+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38831:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:02:39.6631100+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38831:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:02:39.6637557+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 7:26:19', Current time (UTC): '27.09.2024 8:02:39'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR38831:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:02:39.6640417+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 7:26:19', Current time (UTC): '27.09.2024 8:02:39'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 7:26:19', Current time (UTC): '27.09.2024 8:02:39'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR38831:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:02:39.6640956+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38831:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:02:39.6641783+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:02:39.7288659+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"4\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"4","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:02:39.7308992+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:02:39.7418212+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"4\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"4","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:02:39.7421209+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:02:39.7425807+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:02:39.7427295+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 78.5015ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":78.5015,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR38831:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:02:39.7427806+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38831:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:02:39.7429172+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 80.0601ms","fields":{"ElapsedMilliseconds":80.0601,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38831:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:03:22.5262652+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000002","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:22.5264082+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:00000002","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:22.5266671+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 0.4256ms","fields":{"ElapsedMilliseconds":0.4256,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000002","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:22.5276781+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:22.5279659+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:22.5283850+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:22.5285720+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:22.5291565+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:22.5325878+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"2","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:22.5364781+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"3\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"3","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:22.5377085+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:22.5379947+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:22.5382340+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 9.5854ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":9.5854,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR38830:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:22.5382987+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:22.5384694+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 10.8374ms","fields":{"ElapsedMilliseconds":10.8374,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000003","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:36.3664090+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000004","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:36.3667135+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:00000004","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:36.3668130+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 0.4656ms","fields":{"ElapsedMilliseconds":0.4656,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000004","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:36.3677697+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000005","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:36.3679748+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:00000005","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:36.3683772+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:00000005","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:36.3684824+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000005","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:36.3688951+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000005","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:36.3707935+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000005","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:36.3727770+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000005","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:36.3741294+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000005","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:36.3743792+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000005","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:36.3745704+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 6.0193ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.0193,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR38830:00000005","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:36.3746317+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:00000005","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:36.3747864+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 7.0354ms","fields":{"ElapsedMilliseconds":7.0354,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000005","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3043100+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users/admin-role\"\"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/admin-role","QueryString":"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000006","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3044590+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:00000006","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3047218+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users/admin-role\"\"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9\" - 204 null null 0.2808ms","fields":{"ElapsedMilliseconds":0.2808,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/admin-role","QueryString":"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000006","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3052319+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"PUT\" \"http\"://\"localhost:5054\"\"\"\"/api/users/admin-role\"\"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9\" - \"application/json\" 2","fields":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json","ContentLength":2,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/admin-role","QueryString":"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000007","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3053579+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:00000007","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3058884+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 8:03:39', Current time (UTC): '27.09.2024 8:03:44'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR38830:00000007","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3060992+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 8:03:39', Current time (UTC): '27.09.2024 8:03:44'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 8:03:39', Current time (UTC): '27.09.2024 8:03:44'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR38830:00000007","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3063704+03:00","level":"Information","messageTemplate":"Authorization failed. {Reason}","message":"Authorization failed. \"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)\"","fields":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN6UODR38830:00000007","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3066141+03:00","level":"Information","messageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","message":"AuthenticationScheme: \"Bearer\" was challenged.","fields":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR38830:00000007","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3067292+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"PUT\" \"http\"://\"localhost:5054\"\"\"\"/api/users/admin-role\"\"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9\" - 401 0 null 1.5102ms","fields":{"ElapsedMilliseconds":1.5102,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/admin-role","QueryString":"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000007","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3094672+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3095918+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3096811+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.2414ms","fields":{"ElapsedMilliseconds":0.2414,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000008","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3104358+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38831:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:03:44.3105710+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38831:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:03:44.3111400+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 8:03:39', Current time (UTC): '27.09.2024 8:03:44'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR38831:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:03:44.3113809+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 8:03:39', Current time (UTC): '27.09.2024 8:03:44'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 8:03:39', Current time (UTC): '27.09.2024 8:03:44'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR38831:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:03:44.3114390+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38831:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:03:44.3115105+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:03:44.3135427+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:03:44.3161414+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:03:44.3177380+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:03:44.3180012+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:03:44.3186699+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:03:44.3187949+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 7.2274ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":7.2274,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR38831:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:03:44.3188563+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38831:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:03:44.3189935+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 8.562ms","fields":{"ElapsedMilliseconds":8.562,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38831:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:03:44.3234828+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"PUT\" \"http\"://\"localhost:5054\"\"\"\"/api/users/admin-role\"\"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9\" - \"application/json\" 2","fields":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json","ContentLength":2,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/admin-role","QueryString":"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000009","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3237159+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:00000009","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3241625+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:00000009","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3242642+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"AddAdminRole\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAdminRole(System.String)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"AddAdminRole\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] AddAdminRole(System.String)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4fb175a4-f43f-4b56-ab64-8a06559570f5","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000009","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3275463+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4fb175a4-f43f-4b56-ab64-8a06559570f5","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000009","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3288385+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedRoleName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4fb175a4-f43f-4b56-ab64-8a06559570f5","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000009","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3297260+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[UserId], [a].[RoleId]\r\nFROM [AspNetUserRoles] AS [a]\r\nWHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[UserId], [a].[RoleId]\r\nFROM [AspNetUserRoles] AS [a]\r\nWHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4fb175a4-f43f-4b56-ab64-8a06559570f5","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000009","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3303871+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__normalizedRoleName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0\"","fields":{"elapsed":"0","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4fb175a4-f43f-4b56-ab64-8a06559570f5","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000009","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3314836+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"0","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4fb175a4-f43f-4b56-ab64-8a06559570f5","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000009","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3359462+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"4\"ms) [Parameters=[\"@p0='?' (Size = 450), @p1='?' (Size = 450), @p19='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p20='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET NOCOUNT ON;\r\nINSERT INTO [AspNetUserRoles] ([RoleId], [UserId])\r\nVALUES (@p0, @p1);\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17, [UserStatus] = @p18\r\nOUTPUT 1\r\nWHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;\"","fields":{"elapsed":"4","parameters":"@p0='?' (Size = 450), @p1='?' (Size = 450), @p19='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p20='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nINSERT INTO [AspNetUserRoles] ([RoleId], [UserId])\r\nVALUES (@p0, @p1);\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17, [UserStatus] = @p18\r\nOUTPUT 1\r\nWHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4fb175a4-f43f-4b56-ab64-8a06559570f5","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000009","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3363847+03:00","level":"Information","messageTemplate":"User get role","message":"User get role","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.AddApplicationUserToRoleByIdHandler","ActionId":"4fb175a4-f43f-4b56-ab64-8a06559570f5","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000009","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3365107+03:00","level":"Information","messageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","message":"Executing StatusCodeResult, setting HTTP status code 204","fields":{"StatusCode":204,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"4fb175a4-f43f-4b56-ab64-8a06559570f5","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000009","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3365563+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)\" in 12.235ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":12.235,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR38830:00000009","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3365867+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.AddAdminRole (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:00000009","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3366923+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"PUT\" \"http\"://\"localhost:5054\"\"\"\"/api/users/admin-role\"\"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9\" - 204 null null 13.2518ms","fields":{"ElapsedMilliseconds":13.2518,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/admin-role","QueryString":"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000009","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3385598+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3386542+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3387199+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 0.1761ms","fields":{"ElapsedMilliseconds":0.1761,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3397990+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3399752+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3403664+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3404733+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3408329+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3427587+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3443338+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3451265+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"0","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3453827+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3455350+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 5.0048ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":5.0048,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR38830:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3455744+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:44.3456866+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 5.9264ms","fields":{"ElapsedMilliseconds":5.9264,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:0000000B","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7008564+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users/status\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/status","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:0000000C","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7009994+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:0000000C","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7010822+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users/status\"\"\" - 204 null null 0.2743ms","fields":{"ElapsedMilliseconds":0.2743,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/status","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:0000000C","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7017603+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"PUT\" \"http\"://\"localhost:5054\"\"\"\"/api/users/status\"\"\" - \"application/json\" 60","fields":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json","ContentLength":60,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/status","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:0000000D","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7018841+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:0000000D","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7023045+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:0000000D","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7023934+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"ChangeUserStatus\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeUserStatus(Modsen.Server.Authentication.Application.Features.ApplicationUser.Commands.ChangeApplicationUserStatus)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"ChangeUserStatus\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeUserStatus(Modsen.Server.Authentication.Application.Features.ApplicationUser.Commands.ChangeApplicationUserStatus)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000D","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7052870+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000D","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7077185+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000D","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7131411+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"2","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000D","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7133724+03:00","level":"Information","messageTemplate":"User change status","message":"User change status","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.ChangeApplicationUserStatusHandler","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000D","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7134796+03:00","level":"Information","messageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","message":"Executing StatusCodeResult, setting HTTP status code 204","fields":{"StatusCode":204,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000D","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7135387+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)\" in 11.0986ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":11.0986,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR38830:0000000D","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7135831+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:0000000D","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7137292+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"PUT\" \"http\"://\"localhost:5054\"\"\"\"/api/users/status\"\"\" - 204 null null 11.9846ms","fields":{"ElapsedMilliseconds":11.9846,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/status","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:0000000D","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7157189+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7158363+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7160742+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7161378+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7163739+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7178394+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7207863+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"0","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7217230+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7219573+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7221074+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 5.9344ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":5.9344,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR38830:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7221620+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:45.7222830+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 6.569ms","fields":{"ElapsedMilliseconds":6.569,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:0000000E","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2097922+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"PUT\" \"http\"://\"localhost:5054\"\"\"\"/api/users/status\"\"\" - \"application/json\" 60","fields":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json","ContentLength":60,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/status","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:0000000F","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2099377+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:0000000F","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2102722+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:0000000F","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2103694+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"ChangeUserStatus\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeUserStatus(Modsen.Server.Authentication.Application.Features.ApplicationUser.Commands.ChangeApplicationUserStatus)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"ChangeUserStatus\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeUserStatus(Modsen.Server.Authentication.Application.Features.ApplicationUser.Commands.ChangeApplicationUserStatus)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000F","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2161651+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000F","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2189054+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000F","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2204399+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000F","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2205897+03:00","level":"Information","messageTemplate":"User change status","message":"User change status","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.ChangeApplicationUserStatusHandler","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000F","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2206755+03:00","level":"Information","messageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","message":"Executing StatusCodeResult, setting HTTP status code 204","fields":{"StatusCode":204,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000000F","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2207091+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)\" in 10.288ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":10.288,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR38830:0000000F","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2207342+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:0000000F","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2208371+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"PUT\" \"http\"://\"localhost:5054\"\"\"\"/api/users/status\"\"\" - 204 null null 11.086ms","fields":{"ElapsedMilliseconds":11.086,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/status","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:0000000F","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2232945+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000010","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2234116+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:00000010","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2236598+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:00000010","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2237288+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000010","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2240942+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000010","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2251916+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000010","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2266461+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"0","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000010","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2273280+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"0","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000010","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2274883+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000010","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2276571+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 3.889ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":3.889,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR38830:00000010","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2277328+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:00000010","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:46.2278649+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 4.5979ms","fields":{"ElapsedMilliseconds":4.5979,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000010","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5450848+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"PUT\" \"http\"://\"localhost:5054\"\"\"\"/api/users/status\"\"\" - \"application/json\" 60","fields":{"Protocol":"HTTP/1.1","Method":"PUT","ContentType":"application/json","ContentLength":60,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/status","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000011","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5452705+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:00000011","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5456268+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:00000011","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5457305+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"ChangeUserStatus\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeUserStatus(Modsen.Server.Authentication.Application.Features.ApplicationUser.Commands.ChangeApplicationUserStatus)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"ChangeUserStatus\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] ChangeUserStatus(Modsen.Server.Authentication.Application.Features.ApplicationUser.Commands.ChangeApplicationUserStatus)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000011","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5492755+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__p_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0\"","fields":{"elapsed":"2","parameters":"@__p_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000011","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5509967+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000011","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5521936+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000011","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5523919+03:00","level":"Information","messageTemplate":"User change status","message":"User change status","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.ChangeApplicationUserStatusHandler","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000011","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5525531+03:00","level":"Information","messageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","message":"Executing StatusCodeResult, setting HTTP status code 204","fields":{"StatusCode":204,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"6a55d5e7-6d06-4a05-9630-b07d1fd1dc26","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000011","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5526172+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)\" in 6.8197ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.8197,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR38830:00000011","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5526616+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.ChangeUserStatus (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:00000011","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5528081+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"PUT\" \"http\"://\"localhost:5054\"\"\"\"/api/users/status\"\"\" - 204 null null 7.762ms","fields":{"ElapsedMilliseconds":7.762,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"PUT","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/status","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000011","RequestPath":"/api/users/status","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5549012+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5550305+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5553148+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5553881+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5556304+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5567358+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5586333+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"0","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5593605+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"0","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5594960+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5596388+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 4.209ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":4.209,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR38830:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5598449+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:47.5599915+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 5.102ms","fields":{"ElapsedMilliseconds":5.102,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000012","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4387853+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users/admin-role\"\"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/admin-role","QueryString":"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000013","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4389169+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:00000013","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4390035+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users/admin-role\"\"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9\" - 204 null null 0.2496ms","fields":{"ElapsedMilliseconds":0.2496,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/admin-role","QueryString":"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000013","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4402795+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"DELETE\" \"http\"://\"localhost:5054\"\"\"\"/api/users/admin-role\"\"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"DELETE","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/admin-role","QueryString":"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000014","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4404640+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:00000014","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4409056+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:00000014","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4410011+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"DenyAdminRole\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DenyAdminRole(System.String)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"DenyAdminRole\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] DenyAdminRole(System.String)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"f6f5fe82-4821-4c86-8deb-9e62e104835a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000014","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4434553+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[Id] = @__p_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f6f5fe82-4821-4c86-8deb-9e62e104835a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000014","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4456477+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedRoleName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f6f5fe82-4821-4c86-8deb-9e62e104835a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000014","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4464056+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[UserId], [a].[RoleId]\r\nFROM [AspNetUserRoles] AS [a]\r\nWHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1\"","fields":{"elapsed":"0","parameters":"@__p_0='?' (Size = 450), @__p_1='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[UserId], [a].[RoleId]\r\nFROM [AspNetUserRoles] AS [a]\r\nWHERE [a].[UserId] = @__p_0 AND [a].[RoleId] = @__p_1","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f6f5fe82-4821-4c86-8deb-9e62e104835a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000014","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4471658+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__normalizedRoleName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0\"","fields":{"elapsed":"0","parameters":"@__normalizedRoleName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(2) [a].[Id], [a].[ConcurrencyStamp], [a].[Name], [a].[NormalizedName]\r\nFROM [AspNetRoles] AS [a]\r\nWHERE [a].[NormalizedName] = @__normalizedRoleName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f6f5fe82-4821-4c86-8deb-9e62e104835a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000014","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4480231+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f6f5fe82-4821-4c86-8deb-9e62e104835a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000014","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4513067+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@p0='?' (Size = 450), @p1='?' (Size = 450), @p19='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p20='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET NOCOUNT ON;\r\nDELETE FROM [AspNetUserRoles]\r\nOUTPUT 1\r\nWHERE [RoleId] = @p0 AND [UserId] = @p1;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17, [UserStatus] = @p18\r\nOUTPUT 1\r\nWHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;\"","fields":{"elapsed":"2","parameters":"@p0='?' (Size = 450), @p1='?' (Size = 450), @p19='?' (Size = 450), @p2='?' (DbType = Int32), @p3='?' (Size = 4000), @p20='?' (Size = 4000), @p4='?' (Size = 256), @p5='?' (DbType = Boolean), @p6='?' (DbType = Boolean), @p7='?' (DbType = DateTimeOffset), @p8='?' (Size = 256), @p9='?' (Size = 256), @p10='?' (Size = 4000), @p11='?' (Size = 4000), @p12='?' (DbType = Boolean), @p13='?' (Size = 4000), @p14='?' (DbType = DateTime2), @p15='?' (Size = 4000), @p16='?' (DbType = Boolean), @p17='?' (Size = 256), @p18='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET NOCOUNT ON;\r\nDELETE FROM [AspNetUserRoles]\r\nOUTPUT 1\r\nWHERE [RoleId] = @p0 AND [UserId] = @p1;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p2, [ConcurrencyStamp] = @p3, [Email] = @p4, [EmailConfirmed] = @p5, [LockoutEnabled] = @p6, [LockoutEnd] = @p7, [NormalizedEmail] = @p8, [NormalizedUserName] = @p9, [PasswordHash] = @p10, [PhoneNumber] = @p11, [PhoneNumberConfirmed] = @p12, [RefreshToken] = @p13, [RefreshTokenExpiryTime] = @p14, [SecurityStamp] = @p15, [TwoFactorEnabled] = @p16, [UserName] = @p17, [UserStatus] = @p18\r\nOUTPUT 1\r\nWHERE [Id] = @p19 AND [ConcurrencyStamp] = @p20;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"f6f5fe82-4821-4c86-8deb-9e62e104835a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000014","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4517959+03:00","level":"Information","messageTemplate":"User deny role","message":"User deny role","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.DenyApplicationUserRoleByIdHandler","ActionId":"f6f5fe82-4821-4c86-8deb-9e62e104835a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000014","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4519001+03:00","level":"Information","messageTemplate":"Executing StatusCodeResult, setting HTTP status code {StatusCode}","message":"Executing StatusCodeResult, setting HTTP status code 204","fields":{"StatusCode":204,"EventId":{"Id":1,"Name":"HttpStatusCodeResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.StatusCodeResult","ActionId":"f6f5fe82-4821-4c86-8deb-9e62e104835a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000014","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4519396+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)\" in 10.8889ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":10.8889,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR38830:00000014","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4519869+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.DenyAdminRole (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:00000014","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4521132+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"DELETE\" \"http\"://\"localhost:5054\"\"\"\"/api/users/admin-role\"\"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9\" - 204 null null 11.8693ms","fields":{"ElapsedMilliseconds":11.8693,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"DELETE","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users/admin-role","QueryString":"?userId=4e445865-a24d-4543-a6c6-9443d048cdb9","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000014","RequestPath":"/api/users/admin-role","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4548196+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000015","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4549608+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:00000015","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4552225+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:00000015","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4553368+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000015","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4556949+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000015","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4572676+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000015","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4591949+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"0","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000015","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4600232+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"0","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000015","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4602186+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000015","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4603583+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 4.9775ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":4.9775,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR38830:00000015","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4603899+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:00000015","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:03:48.4605024+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 5.7118ms","fields":{"ElapsedMilliseconds":5.7118,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000015","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7234329+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000016","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7560274+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:00000016","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7569135+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 33.5945ms","fields":{"ElapsedMilliseconds":33.5945,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000016","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7583247+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000017","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7584999+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:00000017","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7642947+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 8:04:44', Current time (UTC): '27.09.2024 8:04:55'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR38830:00000017","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7647766+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 8:04:44', Current time (UTC): '27.09.2024 8:04:55'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 8:04:44', Current time (UTC): '27.09.2024 8:04:55'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR38830:00000017","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7648896+03:00","level":"Information","messageTemplate":"Authorization failed. {Reason}","message":"Authorization failed. \"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)\"","fields":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN6UODR38830:00000017","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7649441+03:00","level":"Information","messageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","message":"AuthenticationScheme: \"Bearer\" was challenged.","fields":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR38830:00000017","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7650168+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 401 0 null 6.7224ms","fields":{"ElapsedMilliseconds":6.7224,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000017","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7669674+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7670738+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7671440+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.2145ms","fields":{"ElapsedMilliseconds":0.2145,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000018","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7677717+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38831:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:04:55.7678733+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38831:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:04:55.7682912+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 8:04:44', Current time (UTC): '27.09.2024 8:04:55'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR38831:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:04:55.7684822+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 8:04:44', Current time (UTC): '27.09.2024 8:04:55'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 8:04:44', Current time (UTC): '27.09.2024 8:04:55'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR38831:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:04:55.7685455+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38831:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:04:55.7686442+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:04:55.7711176+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:04:55.7765490+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"4\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"4","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:04:55.7779018+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:04:55.7781186+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:04:55.7783694+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:04:55.7784517+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 9.7735ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":9.7735,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR38831:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:04:55.7784776+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38831:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:04:55.7785803+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 10.8285ms","fields":{"ElapsedMilliseconds":10.8285,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38831:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:04:55.7806440+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000019","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7807907+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:00000019","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7810620+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:00000019","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7811228+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000019","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7813860+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000019","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7827727+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000019","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7842048+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"0","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000019","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7848757+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"0","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000019","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7850466+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:00000019","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7851762+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 4.023ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":4.023,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR38830:00000019","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7852044+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:00000019","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:04:55.7852890+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 4.6837ms","fields":{"ElapsedMilliseconds":4.6837,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:00000019","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:11.8507769+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:11.8509044+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:11.8515895+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.9106ms","fields":{"ElapsedMilliseconds":0.9106,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:0000001A","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:11.8551407+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38831:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:06:11.8560083+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38831:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:06:11.8564611+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 8:05:55', Current time (UTC): '27.09.2024 8:06:11'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR38831:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:06:11.8566562+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 8:05:55', Current time (UTC): '27.09.2024 8:06:11'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '27.09.2024 8:05:55', Current time (UTC): '27.09.2024 8:06:11'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6UODR38831:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:06:11.8566899+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38831:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:06:11.8567318+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:06:11.8588242+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:06:11.8634240+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"2","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:06:11.8644875+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:06:11.8646261+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:06:11.8648357+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"b299a5fb-ab17-4a1e-93ae-c4d451de029a","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38831:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:06:11.8649189+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 8.1471ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":8.1471,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR38831:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:06:11.8649525+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38831:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:06:11.8650544+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 10.5611ms","fields":{"ElapsedMilliseconds":10.5611,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38831:00000004","RequestPath":"/api/tokens","ConnectionId":"0HN6UODR38831"}}
{"@timestamp":"2024-09-27T11:06:12.4742068+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:0000001B","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:12.4743057+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:0000001B","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:12.4743755+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 0.1957ms","fields":{"ElapsedMilliseconds":0.1957,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:0000001B","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:12.4752841+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:0000001C","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:12.4754384+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:0000001C","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:12.4756978+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:0000001C","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:12.4757736+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000001C","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:12.4760354+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000001C","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:12.4778476+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000001C","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:12.4801943+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000001C","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:12.4812488+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000001C","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:12.4814362+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000001C","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:12.4815824+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 5.7612ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":5.7612,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR38830:0000001C","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:12.4816305+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:0000001C","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:12.4817502+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 6.4855ms","fields":{"ElapsedMilliseconds":6.4855,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:0000001C","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:13.9494632+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:0000001D","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:13.9496245+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6UODR38830:0000001D","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:13.9499685+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:0000001D","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:13.9501154+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000001D","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:13.9504135+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000001D","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:13.9538497+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000001D","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:13.9551272+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000001D","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:13.9561336+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"1","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000001D","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:13.9564527+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Application.Models.Responses.UserResponse, Modsen.Server.Authentication.Application, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"a6063d83-832c-46e6-8439-f87c743e63e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6UODR38830:0000001D","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:13.9566729+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 6.4953ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.4953,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6UODR38830:0000001D","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:13.9567850+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6UODR38830:0000001D","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
{"@timestamp":"2024-09-27T11:06:13.9569917+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 7.5397ms","fields":{"ElapsedMilliseconds":7.5397,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6UODR38830:0000001D","RequestPath":"/api/users","ConnectionId":"0HN6UODR38830"}}
