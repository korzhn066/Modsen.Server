{"@timestamp":"2024-09-23T09:12:11.6391417+03:00","level":"Information","messageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","message":"User profile is available. Using '\"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys\"' as key repository and Windows DPAPI to encrypt keys at rest.","fields":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"@timestamp":"2024-09-23T09:12:11.9440224+03:00","level":"Information","messageTemplate":"Bus started: {HostAddress}","message":"Bus started: loopback://localhost/","fields":{"HostAddress":"loopback://localhost/","SourceContext":"MassTransit"}}
{"@timestamp":"2024-09-23T09:12:12.0241711+03:00","level":"Information","messageTemplate":"Now listening on: {address}","message":"Now listening on: \"http://localhost:5054\"","fields":{"address":"http://localhost:5054","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-23T09:12:12.0244729+03:00","level":"Information","messageTemplate":"Application started. Press Ctrl+C to shut down.","message":"Application started. Press Ctrl+C to shut down.","fields":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-23T09:12:12.0245288+03:00","level":"Information","messageTemplate":"Hosting environment: {EnvName}","message":"Hosting environment: \"Development\"","fields":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-23T09:12:12.0245459+03:00","level":"Information","messageTemplate":"Content root path: {ContentRoot}","message":"Content root path: \"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api\"","fields":{"ContentRoot":"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-23T09:12:18.3841505+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSP:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6RIQKU7KSP"}}
{"@timestamp":"2024-09-23T09:12:18.6332133+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - 200 null \"text/html;charset=utf-8\" 257.3651ms","fields":{"ElapsedMilliseconds":257.3651,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSP:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6RIQKU7KSP"}}
{"@timestamp":"2024-09-23T09:12:18.6445549+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSP:00000002","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6RIQKU7KSP"}}
{"@timestamp":"2024-09-23T09:12:18.6542155+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSQ:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6RIQKU7KSQ"}}
{"@timestamp":"2024-09-23T09:12:18.6592580+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - 200 13800 \"application/javascript; charset=utf-8\" 5.016ms","fields":{"ElapsedMilliseconds":5.016,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13800,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSQ:00000001","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6RIQKU7KSQ"}}
{"@timestamp":"2024-09-23T09:12:18.6785317+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - 200 null \"text/javascript; charset=UTF-8\" 34.04ms","fields":{"ElapsedMilliseconds":34.04,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSP:00000002","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6RIQKU7KSP"}}
{"@timestamp":"2024-09-23T09:12:18.8448636+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSP:00000003","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6RIQKU7KSP"}}
{"@timestamp":"2024-09-23T09:12:18.9340225+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - 200 null \"application/json;charset=utf-8\" 89.2166ms","fields":{"ElapsedMilliseconds":89.2166,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSP:00000003","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6RIQKU7KSP"}}
{"@timestamp":"2024-09-23T09:13:42.1387213+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/authentication/login\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSR:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6RIQKU7KSR"}}
{"@timestamp":"2024-09-23T09:13:42.1466171+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KSR:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6RIQKU7KSR"}}
{"@timestamp":"2024-09-23T09:13:42.1475773+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/authentication/login\"\"\" - 204 null null 8.8763ms","fields":{"ElapsedMilliseconds":8.8763,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSR:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6RIQKU7KSR"}}
{"@timestamp":"2024-09-23T09:13:42.1517492+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"POST\" \"http\"://\"localhost:5054\"\"\"\"/api/authentication/login\"\"\" - \"application/json\" 46","fields":{"Protocol":"HTTP/1.1","Method":"POST","ContentType":"application/json","ContentLength":46,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSS:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6RIQKU7KSS"}}
{"@timestamp":"2024-09-23T09:13:42.1525962+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KSS:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6RIQKU7KSS"}}
{"@timestamp":"2024-09-23T09:13:42.1538550+03:00","level":"Warning","messageTemplate":"Failed to determine the https port for redirect.","message":"Failed to determine the https port for redirect.","fields":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN6RIQKU7KSS:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6RIQKU7KSS"}}
{"@timestamp":"2024-09-23T09:13:42.8617118+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6RIQKU7KSS:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6RIQKU7KSS"}}
{"@timestamp":"2024-09-23T09:13:42.8752763+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Login\\\", controller = \\\"Authentication\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Modsen.Server.Authentication.Application.Models.Authentication.LoginModel)\" on controller \"Modsen.Server.Authentication.Api.Controllers.AuthenticationController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Login\", controller = \"Authentication\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Login(Modsen.Server.Authentication.Application.Models.Authentication.LoginModel)","Controller":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"43b36dea-c60c-4665-a515-961fa2528054","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSS:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6RIQKU7KSS"}}
{"@timestamp":"2024-09-23T09:13:45.6250773+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"62\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"62","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"43b36dea-c60c-4665-a515-961fa2528054","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSS:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6RIQKU7KSS"}}
{"@timestamp":"2024-09-23T09:13:45.7509226+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"3\"ms) [Parameters=[\"@__userId_0='?' (Size = 450)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0\"","fields":{"elapsed":"3","parameters":"@__userId_0='?' (Size = 450)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a0].[Name]\r\nFROM [AspNetUserRoles] AS [a]\r\nINNER JOIN [AspNetRoles] AS [a0] ON [a].[RoleId] = [a0].[Id]\r\nWHERE [a].[UserId] = @__userId_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"43b36dea-c60c-4665-a515-961fa2528054","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSS:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6RIQKU7KSS"}}
{"@timestamp":"2024-09-23T09:13:45.7593399+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"43b36dea-c60c-4665-a515-961fa2528054","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSS:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6RIQKU7KSS"}}
{"@timestamp":"2024-09-23T09:13:45.8237400+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"3\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"3","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"43b36dea-c60c-4665-a515-961fa2528054","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSS:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6RIQKU7KSS"}}
{"@timestamp":"2024-09-23T09:13:45.8301508+03:00","level":"Information","messageTemplate":"User login","message":"User login","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.Commands.LoginApplicationUser","ActionId":"43b36dea-c60c-4665-a515-961fa2528054","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSS:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6RIQKU7KSS"}}
{"@timestamp":"2024-09-23T09:13:45.8937268+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"43b36dea-c60c-4665-a515-961fa2528054","ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSS:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6RIQKU7KSS"}}
{"@timestamp":"2024-09-23T09:13:45.8966704+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)\" in 3019.1096ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":3019.1096,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6RIQKU7KSS:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6RIQKU7KSS"}}
{"@timestamp":"2024-09-23T09:13:45.8970211+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.AuthenticationController.Login (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6RIQKU7KSS:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6RIQKU7KSS"}}
{"@timestamp":"2024-09-23T09:13:45.9024148+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"POST\" \"http\"://\"localhost:5054\"\"\"\"/api/authentication/login\"\"\" - 200 null \"text/plain; charset=utf-8\" 3750.6847ms","fields":{"ElapsedMilliseconds":3750.6847,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"POST","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/authentication/login","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSS:00000001","RequestPath":"/api/authentication/login","ConnectionId":"0HN6RIQKU7KSS"}}
{"@timestamp":"2024-09-23T09:13:47.5066672+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KST:00000001","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:13:47.5082861+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KST:00000001","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:13:47.5085710+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 2.1275ms","fields":{"ElapsedMilliseconds":2.1275,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KST:00000001","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:13:47.5096107+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KST:00000002","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:13:47.5099184+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KST:00000002","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:13:47.5453620+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6RIQKU7KST:00000002","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:13:47.5481299+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KST:00000002","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:13:47.5537740+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KST:00000002","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:13:47.5850974+03:00","level":"Warning","messageTemplate":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","message":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","fields":{"EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KST:00000002","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:13:47.5853293+03:00","level":"Warning","messageTemplate":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","message":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","fields":{"EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KST:00000002","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:13:47.5895610+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KST:00000002","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:13:47.5902481+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Domain.Entities.ApplicationUser, Modsen.Server.Authentication.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Domain.Entities.ApplicationUser, Modsen.Server.Authentication.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KST:00000002","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:13:47.6005944+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 52.3447ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":52.3447,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6RIQKU7KST:00000002","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:13:47.6006993+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6RIQKU7KST:00000002","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:13:47.6010395+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 91.4427ms","fields":{"ElapsedMilliseconds":91.4427,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KST:00000002","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:10.4542813+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KST:00000003","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:10.4546164+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KST:00000003","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:10.4547749+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 0.5726ms","fields":{"ElapsedMilliseconds":0.5726,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KST:00000003","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:10.4558800+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KST:00000004","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:10.4561034+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KST:00000004","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:10.4588372+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6RIQKU7KST:00000004","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:10.4590016+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KST:00000004","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:10.4603819+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KST:00000004","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:10.4687906+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KST:00000004","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:10.4730547+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Domain.Entities.ApplicationUser, Modsen.Server.Authentication.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Domain.Entities.ApplicationUser, Modsen.Server.Authentication.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KST:00000004","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:10.4733162+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 14.264ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":14.264,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6RIQKU7KST:00000004","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:10.4733704+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6RIQKU7KST:00000004","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:10.4734896+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 17.651ms","fields":{"ElapsedMilliseconds":17.651,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KST:00000004","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.4491096+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KST:00000005","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.4501931+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KST:00000005","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.4528690+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 3.8291ms","fields":{"ElapsedMilliseconds":3.8291,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KST:00000005","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.4541621+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KST:00000006","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.4544234+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KST:00000006","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.4578083+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 6:14:45', Current time (UTC): '23.09.2024 6:14:45'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6RIQKU7KST:00000006","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.4662053+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 6:14:45', Current time (UTC): '23.09.2024 6:14:45'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 6:14:45', Current time (UTC): '23.09.2024 6:14:45'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6RIQKU7KST:00000006","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.4674602+03:00","level":"Information","messageTemplate":"Authorization failed. {Reason}","message":"Authorization failed. \"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)\"","fields":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN6RIQKU7KST:00000006","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.4705743+03:00","level":"Information","messageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","message":"AuthenticationScheme: \"Bearer\" was challenged.","fields":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6RIQKU7KST:00000006","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.4707449+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 401 0 null 16.6291ms","fields":{"ElapsedMilliseconds":16.6291,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KST:00000006","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.4735430+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KST:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.4737690+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KST:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.4738874+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.3979ms","fields":{"ElapsedMilliseconds":0.3979,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KST:00000007","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.4758067+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSU:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KSU"}}
{"@timestamp":"2024-09-23T09:14:45.5003100+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KSU:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KSU"}}
{"@timestamp":"2024-09-23T09:14:45.5017592+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 6:14:45', Current time (UTC): '23.09.2024 6:14:45'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6RIQKU7KSU:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KSU"}}
{"@timestamp":"2024-09-23T09:14:45.5020246+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 6:14:45', Current time (UTC): '23.09.2024 6:14:45'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 6:14:45', Current time (UTC): '23.09.2024 6:14:45'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6RIQKU7KSU:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KSU"}}
{"@timestamp":"2024-09-23T09:14:45.5021453+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6RIQKU7KSU:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KSU"}}
{"@timestamp":"2024-09-23T09:14:45.5043368+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"21eb04f2-397e-4664-8423-3bf316c7528d","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSU:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KSU"}}
{"@timestamp":"2024-09-23T09:14:45.5181885+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"21eb04f2-397e-4664-8423-3bf316c7528d","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSU:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KSU"}}
{"@timestamp":"2024-09-23T09:14:45.5201796+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"0","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"21eb04f2-397e-4664-8423-3bf316c7528d","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSU:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KSU"}}
{"@timestamp":"2024-09-23T09:14:45.5217373+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"1","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"21eb04f2-397e-4664-8423-3bf316c7528d","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSU:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KSU"}}
{"@timestamp":"2024-09-23T09:14:45.5221980+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"21eb04f2-397e-4664-8423-3bf316c7528d","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSU:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KSU"}}
{"@timestamp":"2024-09-23T09:14:45.5232617+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"21eb04f2-397e-4664-8423-3bf316c7528d","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSU:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KSU"}}
{"@timestamp":"2024-09-23T09:14:45.5233987+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 18.9845ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":18.9845,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6RIQKU7KSU:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KSU"}}
{"@timestamp":"2024-09-23T09:14:45.5234562+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6RIQKU7KSU:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KSU"}}
{"@timestamp":"2024-09-23T09:14:45.5236228+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 47.8899ms","fields":{"ElapsedMilliseconds":47.8899,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSU:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KSU"}}
{"@timestamp":"2024-09-23T09:14:45.5269763+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KST:00000008","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.5271784+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KST:00000008","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.5274701+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6RIQKU7KST:00000008","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.5275687+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KST:00000008","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.5319826+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KST:00000008","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.5336910+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KST:00000008","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.5341159+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Domain.Entities.ApplicationUser, Modsen.Server.Authentication.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Domain.Entities.ApplicationUser, Modsen.Server.Authentication.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KST:00000008","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.5342852+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 6.658ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":6.658,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6RIQKU7KST:00000008","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.5343261+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6RIQKU7KST:00000008","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T09:14:45.5344394+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 7.516ms","fields":{"ElapsedMilliseconds":7.516,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KST:00000008","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KST"}}
{"@timestamp":"2024-09-23T10:52:27.6081181+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSV:00000001","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:27.6096299+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KSV:00000001","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:27.6099224+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 3.3947ms","fields":{"ElapsedMilliseconds":3.3947,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSV:00000001","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:27.6108899+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSV:00000002","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:27.6110785+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KSV:00000002","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:27.6116669+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 6:15:45', Current time (UTC): '23.09.2024 7:52:27'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6RIQKU7KSV:00000002","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:27.6120381+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 6:15:45', Current time (UTC): '23.09.2024 7:52:27'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 6:15:45', Current time (UTC): '23.09.2024 7:52:27'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6RIQKU7KSV:00000002","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:27.6121988+03:00","level":"Information","messageTemplate":"Authorization failed. {Reason}","message":"Authorization failed. \"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)\"","fields":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN6RIQKU7KSV:00000002","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:27.6123819+03:00","level":"Information","messageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","message":"AuthenticationScheme: \"Bearer\" was challenged.","fields":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6RIQKU7KSV:00000002","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:27.6125046+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 401 0 null 1.6524ms","fields":{"ElapsedMilliseconds":1.6524,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSV:00000002","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:27.6184345+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSV:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:27.6186024+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KSV:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:27.6187363+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.361ms","fields":{"ElapsedMilliseconds":0.361,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSV:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:27.6198008+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KT0:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:52:27.6199211+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KT0:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:52:27.6203056+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 6:15:45', Current time (UTC): '23.09.2024 7:52:27'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6RIQKU7KT0:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:52:27.6205009+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 6:15:45', Current time (UTC): '23.09.2024 7:52:27'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 6:15:45', Current time (UTC): '23.09.2024 7:52:27'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6RIQKU7KT0:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:52:27.6205741+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6RIQKU7KT0:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:52:27.6206583+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"21eb04f2-397e-4664-8423-3bf316c7528d","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KT0:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:52:28.1635923+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"3\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"3","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"21eb04f2-397e-4664-8423-3bf316c7528d","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KT0:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:52:28.1649344+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"21eb04f2-397e-4664-8423-3bf316c7528d","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KT0:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:52:28.1722201+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"3\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"3","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"21eb04f2-397e-4664-8423-3bf316c7528d","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KT0:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:52:28.1724981+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"21eb04f2-397e-4664-8423-3bf316c7528d","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KT0:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:52:28.1729287+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"21eb04f2-397e-4664-8423-3bf316c7528d","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KT0:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:52:28.1731352+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 552.4222ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":552.4222,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6RIQKU7KT0:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:52:28.1731963+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6RIQKU7KT0:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:52:28.1733556+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 553.5674ms","fields":{"ElapsedMilliseconds":553.5674,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KT0:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:52:28.1756543+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSV:00000004","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:28.1758208+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KSV:00000004","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:28.1761052+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6RIQKU7KSV:00000004","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:28.1761773+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSV:00000004","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:28.1764675+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSV:00000004","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:28.1785050+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSV:00000004","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:28.1787830+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Domain.Entities.ApplicationUser, Modsen.Server.Authentication.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Domain.Entities.ApplicationUser, Modsen.Server.Authentication.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSV:00000004","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:28.1789460+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 2.7334ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":2.7334,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6RIQKU7KSV:00000004","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:28.1789796+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6RIQKU7KSV:00000004","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:28.1790978+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 3.484ms","fields":{"ElapsedMilliseconds":3.484,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSV:00000004","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:41.2899148+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSV:00000005","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:41.2901755+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KSV:00000005","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:41.2904108+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 0.7607ms","fields":{"ElapsedMilliseconds":0.7607,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSV:00000005","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:41.2912763+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSV:00000006","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:41.2914653+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KSV:00000006","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:41.2919523+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6RIQKU7KSV:00000006","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:41.2922471+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSV:00000006","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:41.2928217+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSV:00000006","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:41.2955752+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"2","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSV:00000006","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:41.3006942+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Domain.Entities.ApplicationUser, Modsen.Server.Authentication.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Domain.Entities.ApplicationUser, Modsen.Server.Authentication.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSV:00000006","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:41.3008727+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 8.5527ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":8.5527,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6RIQKU7KSV:00000006","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:41.3009129+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6RIQKU7KSV:00000006","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:52:41.3010731+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 9.8394ms","fields":{"ElapsedMilliseconds":9.8394,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSV:00000006","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4514540+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSV:00000007","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4515936+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KSV:00000007","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4526299+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 1.1979ms","fields":{"ElapsedMilliseconds":1.1979,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSV:00000007","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4558250+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSV:00000008","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4566584+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KSV:00000008","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4570610+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 7:53:28', Current time (UTC): '23.09.2024 7:54:44'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6RIQKU7KSV:00000008","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4572815+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 7:53:28', Current time (UTC): '23.09.2024 7:54:44'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 7:53:28', Current time (UTC): '23.09.2024 7:54:44'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6RIQKU7KSV:00000008","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4573539+03:00","level":"Information","messageTemplate":"Authorization failed. {Reason}","message":"Authorization failed. \"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)\"","fields":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN6RIQKU7KSV:00000008","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4573938+03:00","level":"Information","messageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","message":"AuthenticationScheme: \"Bearer\" was challenged.","fields":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6RIQKU7KSV:00000008","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4574650+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 401 0 null 2.5588ms","fields":{"ElapsedMilliseconds":2.5588,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSV:00000008","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4644201+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSV:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4645381+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KSV:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4646563+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 0.2896ms","fields":{"ElapsedMilliseconds":0.2896,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSV:00000009","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4655711+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KT0:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:54:44.4656943+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KT0:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:54:44.4660815+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 7:53:28', Current time (UTC): '23.09.2024 7:54:44'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6RIQKU7KT0:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:54:44.4662627+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 7:53:28', Current time (UTC): '23.09.2024 7:54:44'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 7:53:28', Current time (UTC): '23.09.2024 7:54:44'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6RIQKU7KT0:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:54:44.4663298+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6RIQKU7KT0:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:54:44.4663846+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"21eb04f2-397e-4664-8423-3bf316c7528d","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KT0:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:54:44.4691733+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"21eb04f2-397e-4664-8423-3bf316c7528d","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KT0:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:54:44.4729522+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"0","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"21eb04f2-397e-4664-8423-3bf316c7528d","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KT0:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:54:44.4740222+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"0\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"0","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"21eb04f2-397e-4664-8423-3bf316c7528d","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KT0:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:54:44.4742133+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"21eb04f2-397e-4664-8423-3bf316c7528d","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KT0:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:54:44.4744199+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"21eb04f2-397e-4664-8423-3bf316c7528d","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KT0:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:54:44.4744961+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 8.0828ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":8.0828,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6RIQKU7KT0:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:54:44.4745286+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6RIQKU7KT0:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:54:44.4746252+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 9.0771ms","fields":{"ElapsedMilliseconds":9.0771,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KT0:00000002","RequestPath":"/api/tokens","ConnectionId":"0HN6RIQKU7KT0"}}
{"@timestamp":"2024-09-23T10:54:44.4771901+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSV:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4773560+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6RIQKU7KSV:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4776578+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6RIQKU7KSV:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4777231+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSV:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4779935+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSV:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4793302+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"1","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSV:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4798543+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Domain.Entities.ApplicationUser, Modsen.Server.Authentication.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Domain.Entities.ApplicationUser, Modsen.Server.Authentication.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"337cb513-66d7-408f-a7c9-44dafbb59c7a","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6RIQKU7KSV:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4800552+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 2.3033ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":2.3033,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6RIQKU7KSV:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4800867+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6RIQKU7KSV:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T10:54:44.4802151+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 3.0583ms","fields":{"ElapsedMilliseconds":3.0583,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6RIQKU7KSV:0000000A","RequestPath":"/api/users","ConnectionId":"0HN6RIQKU7KSV"}}
{"@timestamp":"2024-09-23T14:51:29.3776723+03:00","level":"Information","messageTemplate":"User profile is available. Using '{FullName}' as key repository and Windows DPAPI to encrypt keys at rest.","message":"User profile is available. Using '\"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys\"' as key repository and Windows DPAPI to encrypt keys at rest.","fields":{"FullName":"C:\\Users\\user\\AppData\\Local\\ASP.NET\\DataProtection-Keys","EventId":{"Id":63,"Name":"UsingProfileAsKeyRepositoryWithDPAPI"},"SourceContext":"Microsoft.AspNetCore.DataProtection.KeyManagement.XmlKeyManager"}}
{"@timestamp":"2024-09-23T14:51:29.5768075+03:00","level":"Information","messageTemplate":"Bus started: {HostAddress}","message":"Bus started: loopback://localhost/","fields":{"HostAddress":"loopback://localhost/","SourceContext":"MassTransit"}}
{"@timestamp":"2024-09-23T14:51:29.6607020+03:00","level":"Information","messageTemplate":"Now listening on: {address}","message":"Now listening on: \"http://localhost:5054\"","fields":{"address":"http://localhost:5054","EventId":{"Id":14,"Name":"ListeningOnAddress"},"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-23T14:51:29.6610094+03:00","level":"Information","messageTemplate":"Application started. Press Ctrl+C to shut down.","message":"Application started. Press Ctrl+C to shut down.","fields":{"SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-23T14:51:29.6610957+03:00","level":"Information","messageTemplate":"Hosting environment: {EnvName}","message":"Hosting environment: \"Development\"","fields":{"EnvName":"Development","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-23T14:51:29.6611315+03:00","level":"Information","messageTemplate":"Content root path: {ContentRoot}","message":"Content root path: \"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api\"","fields":{"ContentRoot":"D:\\Modsen.Server\\Server\\Modsen.Server.Authentication\\Modsen.Server.Authentication.Api","SourceContext":"Microsoft.Hosting.Lifetime"}}
{"@timestamp":"2024-09-23T14:51:33.8132757+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6ROO806UJ4:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6ROO806UJ4"}}
{"@timestamp":"2024-09-23T14:51:34.1100258+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/index.html\"\"\" - 200 null \"text/html;charset=utf-8\" 300.2918ms","fields":{"ElapsedMilliseconds":300.2918,"StatusCode":200,"ContentType":"text/html;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/index.html","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6ROO806UJ4:00000001","RequestPath":"/swagger/index.html","ConnectionId":"0HN6ROO806UJ4"}}
{"@timestamp":"2024-09-23T14:51:34.1135305+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6ROO806UJ4:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6ROO806UJ4"}}
{"@timestamp":"2024-09-23T14:51:34.1159922+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_framework/aspnetcore-browser-refresh.js\"\"\" - 200 13800 \"application/javascript; charset=utf-8\" 2.4837ms","fields":{"ElapsedMilliseconds":2.4837,"StatusCode":200,"ContentType":"application/javascript; charset=utf-8","ContentLength":13800,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_framework/aspnetcore-browser-refresh.js","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6ROO806UJ4:00000002","RequestPath":"/_framework/aspnetcore-browser-refresh.js","ConnectionId":"0HN6ROO806UJ4"}}
{"@timestamp":"2024-09-23T14:51:34.1214335+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6ROO806UJ4:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6ROO806UJ4"}}
{"@timestamp":"2024-09-23T14:51:34.1517821+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/_vs/browserLink\"\"\" - 200 null \"text/javascript; charset=UTF-8\" 30.3804ms","fields":{"ElapsedMilliseconds":30.3804,"StatusCode":200,"ContentType":"text/javascript; charset=UTF-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/_vs/browserLink","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6ROO806UJ4:00000003","RequestPath":"/_vs/browserLink","ConnectionId":"0HN6ROO806UJ4"}}
{"@timestamp":"2024-09-23T14:51:34.2772623+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6ROO806UJ4:00000004","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6ROO806UJ4"}}
{"@timestamp":"2024-09-23T14:51:34.3655505+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/swagger/v1/swagger.json\"\"\" - 200 null \"application/json;charset=utf-8\" 88.3547ms","fields":{"ElapsedMilliseconds":88.3547,"StatusCode":200,"ContentType":"application/json;charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/swagger/v1/swagger.json","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6ROO806UJ4:00000004","RequestPath":"/swagger/v1/swagger.json","ConnectionId":"0HN6ROO806UJ4"}}
{"@timestamp":"2024-09-23T16:33:40.6871250+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6ROO806UJ6:00000001","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:40.6923443+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6ROO806UJ6:00000001","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:40.6934197+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 204 null null 6.382ms","fields":{"ElapsedMilliseconds":6.382,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6ROO806UJ6:00000001","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:40.6967520+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6ROO806UJ6:00000002","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:40.6989390+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6ROO806UJ6:00000002","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:40.7004641+03:00","level":"Warning","messageTemplate":"Failed to determine the https port for redirect.","message":"Failed to determine the https port for redirect.","fields":{"EventId":{"Id":3,"Name":"FailedToDeterminePort"},"SourceContext":"Microsoft.AspNetCore.HttpsPolicy.HttpsRedirectionMiddleware","RequestId":"0HN6ROO806UJ6:00000002","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:41.4969720+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 7:55:44', Current time (UTC): '23.09.2024 13:33:41'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6ROO806UJ6:00000002","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:41.5042538+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 7:55:44', Current time (UTC): '23.09.2024 13:33:41'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 7:55:44', Current time (UTC): '23.09.2024 13:33:41'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6ROO806UJ6:00000002","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:41.5083725+03:00","level":"Information","messageTemplate":"Authorization failed. {Reason}","message":"Authorization failed. \"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)\"","fields":{"Reason":"These requirements were not met:\r\nRolesAuthorizationRequirement:User.IsInRole must be true for one of the following roles: (Admin)","EventId":{"Id":2,"Name":"UserAuthorizationFailed"},"SourceContext":"Microsoft.AspNetCore.Authorization.DefaultAuthorizationService","RequestId":"0HN6ROO806UJ6:00000002","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:41.5112942+03:00","level":"Information","messageTemplate":"AuthenticationScheme: {AuthenticationScheme} was challenged.","message":"AuthenticationScheme: \"Bearer\" was challenged.","fields":{"AuthenticationScheme":"Bearer","EventId":{"Id":12,"Name":"AuthenticationSchemeChallenged"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6ROO806UJ6:00000002","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:41.5117656+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 401 0 null 815.8309ms","fields":{"ElapsedMilliseconds":815.8309,"StatusCode":401,"ContentType":null,"ContentLength":0,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6ROO806UJ6:00000002","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:41.5144521+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"OPTIONS","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6ROO806UJ6:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:41.5164547+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6ROO806UJ6:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:41.5168049+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"OPTIONS\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 204 null null 2.412ms","fields":{"ElapsedMilliseconds":2.412,"StatusCode":204,"ContentType":null,"ContentLength":null,"Protocol":"HTTP/1.1","Method":"OPTIONS","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6ROO806UJ6:00000003","RequestPath":"/api/tokens","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:41.5198799+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6ROO806UJ7:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6ROO806UJ7"}}
{"@timestamp":"2024-09-23T16:33:41.5202164+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6ROO806UJ7:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6ROO806UJ7"}}
{"@timestamp":"2024-09-23T16:33:41.5230273+03:00","level":"Information","messageTemplate":"Failed to validate the token.","message":"Failed to validate the token.","exceptions":[{"Depth":0,"ClassName":"Microsoft.IdentityModel.Tokens.SecurityTokenExpiredException","Message":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 7:55:44', Current time (UTC): '23.09.2024 13:33:41'.","Source":"Microsoft.IdentityModel.Tokens","StackTraceString":"   at Microsoft.IdentityModel.Tokens.ValidatorUtilities.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.Tokens.Validators.ValidateLifetime(Nullable`1 notBefore, Nullable`1 expires, SecurityToken securityToken, TokenValidationParameters validationParameters)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateTokenPayloadAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)\r\n   at Microsoft.IdentityModel.JsonWebTokens.JsonWebTokenHandler.ValidateJWSAsync(JsonWebToken jsonWebToken, TokenValidationParameters validationParameters, BaseConfiguration configuration)","RemoteStackTraceString":null,"RemoteStackIndex":0,"HResult":-2146233088,"HelpURL":null}],"fields":{"EventId":{"Id":1,"Name":"TokenValidationFailed"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6ROO806UJ7:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6ROO806UJ7"}}
{"@timestamp":"2024-09-23T16:33:41.5233261+03:00","level":"Information","messageTemplate":"{AuthenticationScheme} was not authenticated. Failure message: {FailureMessage}","message":"\"Bearer\" was not authenticated. Failure message: \"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 7:55:44', Current time (UTC): '23.09.2024 13:33:41'.\"","fields":{"AuthenticationScheme":"Bearer","FailureMessage":"IDX10223: Lifetime validation failed. The token is expired. ValidTo (UTC): '23.09.2024 7:55:44', Current time (UTC): '23.09.2024 13:33:41'.","EventId":{"Id":7,"Name":"AuthenticationSchemeNotAuthenticatedWithFailure"},"SourceContext":"Microsoft.AspNetCore.Authentication.JwtBearer.JwtBearerHandler","RequestId":"0HN6ROO806UJ7:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6ROO806UJ7"}}
{"@timestamp":"2024-09-23T16:33:41.5244657+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6ROO806UJ7:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6ROO806UJ7"}}
{"@timestamp":"2024-09-23T16:33:41.5381445+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"Refresh\\\", controller = \\\"Token\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()\" on controller \"Modsen.Server.Authentication.Api.Controllers.TokenController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"Refresh\", controller = \"Token\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] Refresh()","Controller":"Modsen.Server.Authentication.Api.Controllers.TokenController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"4f7be1b4-46a3-4685-a694-3e5c8738d3e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6ROO806UJ7:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6ROO806UJ7"}}
{"@timestamp":"2024-09-23T16:33:44.3656299+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"69\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"69","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4f7be1b4-46a3-4685-a694-3e5c8738d3e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6ROO806UJ7:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6ROO806UJ7"}}
{"@timestamp":"2024-09-23T16:33:44.4213608+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"1\"ms) [Parameters=[\"@__normalizedUserName_0='?' (Size = 256)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0\"","fields":{"elapsed":"1","parameters":"@__normalizedUserName_0='?' (Size = 256)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT TOP(1) [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nWHERE [a].[NormalizedUserName] = @__normalizedUserName_0","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4f7be1b4-46a3-4685-a694-3e5c8738d3e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6ROO806UJ7:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6ROO806UJ7"}}
{"@timestamp":"2024-09-23T16:33:44.4936034+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"4\"ms) [Parameters=[\"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;\"","fields":{"elapsed":"4","parameters":"@p17='?' (Size = 450), @p0='?' (DbType = Int32), @p1='?' (Size = 4000), @p18='?' (Size = 4000), @p2='?' (Size = 256), @p3='?' (DbType = Boolean), @p4='?' (DbType = Boolean), @p5='?' (DbType = DateTimeOffset), @p6='?' (Size = 256), @p7='?' (Size = 256), @p8='?' (Size = 4000), @p9='?' (Size = 4000), @p10='?' (DbType = Boolean), @p11='?' (Size = 4000), @p12='?' (DbType = DateTime2), @p13='?' (Size = 4000), @p14='?' (DbType = Boolean), @p15='?' (Size = 256), @p16='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SET IMPLICIT_TRANSACTIONS OFF;\r\nSET NOCOUNT ON;\r\nUPDATE [AspNetUsers] SET [AccessFailedCount] = @p0, [ConcurrencyStamp] = @p1, [Email] = @p2, [EmailConfirmed] = @p3, [LockoutEnabled] = @p4, [LockoutEnd] = @p5, [NormalizedEmail] = @p6, [NormalizedUserName] = @p7, [PasswordHash] = @p8, [PhoneNumber] = @p9, [PhoneNumberConfirmed] = @p10, [RefreshToken] = @p11, [RefreshTokenExpiryTime] = @p12, [SecurityStamp] = @p13, [TwoFactorEnabled] = @p14, [UserName] = @p15, [UserStatus] = @p16\r\nOUTPUT 1\r\nWHERE [Id] = @p17 AND [ConcurrencyStamp] = @p18;","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"4f7be1b4-46a3-4685-a694-3e5c8738d3e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6ROO806UJ7:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6ROO806UJ7"}}
{"@timestamp":"2024-09-23T16:33:44.5021712+03:00","level":"Information","messageTemplate":"User refresh token","message":"User refresh token","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.CommandHandlers.RefreshTokenHandler","ActionId":"4f7be1b4-46a3-4685-a694-3e5c8738d3e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6ROO806UJ7:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6ROO806UJ7"}}
{"@timestamp":"2024-09-23T16:33:44.5123513+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.String\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.String","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"4f7be1b4-46a3-4685-a694-3e5c8738d3e7","ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","RequestId":"0HN6ROO806UJ7:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6ROO806UJ7"}}
{"@timestamp":"2024-09-23T16:33:44.5151169+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\" in 2974.7172ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":2974.7172,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6ROO806UJ7:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6ROO806UJ7"}}
{"@timestamp":"2024-09-23T16:33:44.5155056+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.TokenController.Refresh (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6ROO806UJ7:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6ROO806UJ7"}}
{"@timestamp":"2024-09-23T16:33:44.5180173+03:00","level":"Information","messageTemplate":"Request starting {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {ContentType} {ContentLength}","message":"Request starting \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - null null","fields":{"Protocol":"HTTP/1.1","Method":"GET","ContentType":null,"ContentLength":null,"Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":1},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6ROO806UJ6:00000004","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:44.5182372+03:00","level":"Information","messageTemplate":"CORS policy execution successful.","message":"CORS policy execution successful.","fields":{"EventId":{"Id":4,"Name":"PolicySuccess"},"SourceContext":"Microsoft.AspNetCore.Cors.Infrastructure.CorsService","RequestId":"0HN6ROO806UJ6:00000004","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:44.5210429+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/tokens\"\"\" - 200 null \"text/plain; charset=utf-8\" 3001.1866ms","fields":{"ElapsedMilliseconds":3001.1866,"StatusCode":200,"ContentType":"text/plain; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/tokens","QueryString":"","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6ROO806UJ7:00000001","RequestPath":"/api/tokens","ConnectionId":"0HN6ROO806UJ7"}}
{"@timestamp":"2024-09-23T16:33:44.5238364+03:00","level":"Information","messageTemplate":"Executing endpoint '{EndpointName}'","message":"Executing endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Name":"ExecutingEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6ROO806UJ6:00000004","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:44.5305361+03:00","level":"Information","messageTemplate":"Route matched with {RouteData}. Executing controller action with signature {MethodInfo} on controller {Controller} ({AssemblyName}).","message":"Route matched with \"{action = \\\"GetUsers\\\", controller = \\\"Users\\\"}\". Executing controller action with signature \"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)\" on controller \"Modsen.Server.Authentication.Api.Controllers.UsersController\" (\"Modsen.Server.Authentication.Api\").","fields":{"RouteData":"{action = \"GetUsers\", controller = \"Users\"}","MethodInfo":"System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.IActionResult] GetUsers(Int32, Int32)","Controller":"Modsen.Server.Authentication.Api.Controllers.UsersController","AssemblyName":"Modsen.Server.Authentication.Api","EventId":{"Id":102,"Name":"ControllerActionExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","ActionId":"c86174b9-6e3a-41fc-868b-2c3b68ed53aa","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6ROO806UJ6:00000004","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:44.5585359+03:00","level":"Information","messageTemplate":"Get users","message":"Get users","fields":{"SourceContext":"Modsen.Server.Authentication.Application.Features.ApplicationUser.QueryHandlers.GetApplicationUsersHandler","ActionId":"c86174b9-6e3a-41fc-868b-2c3b68ed53aa","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6ROO806UJ6:00000004","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:44.5924442+03:00","level":"Warning","messageTemplate":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","message":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","fields":{"EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"c86174b9-6e3a-41fc-868b-2c3b68ed53aa","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6ROO806UJ6:00000004","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:44.5927689+03:00","level":"Warning","messageTemplate":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","message":"The query uses a row limiting operator ('Skip'/'Take') without an 'OrderBy' operator. This may lead to unpredictable results. If the 'Distinct' operator is used after 'OrderBy', then make sure to use the 'OrderBy' operator after 'Distinct' as the ordering would otherwise get erased.","fields":{"EventId":{"Id":10102,"Name":"Microsoft.EntityFrameworkCore.Query.RowLimitingOperationWithoutOrderByWarning"},"SourceContext":"Microsoft.EntityFrameworkCore.Query","ActionId":"c86174b9-6e3a-41fc-868b-2c3b68ed53aa","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6ROO806UJ6:00000004","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:44.5978396+03:00","level":"Information","messageTemplate":"Executed DbCommand ({elapsed}ms) [Parameters=[{parameters}], CommandType='{commandType}', CommandTimeout='{commandTimeout}']{newLine}{commandText}","message":"Executed DbCommand (\"2\"ms) [Parameters=[\"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)\"], CommandType='Text', CommandTimeout='30']\"\r\n\"\"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY\"","fields":{"elapsed":"2","parameters":"@__p_0='?' (DbType = Int32), @__p_1='?' (DbType = Int32)","commandType":"Text","commandTimeout":30,"newLine":"\r\n","commandText":"SELECT [a].[Id], [a].[AccessFailedCount], [a].[ConcurrencyStamp], [a].[Email], [a].[EmailConfirmed], [a].[LockoutEnabled], [a].[LockoutEnd], [a].[NormalizedEmail], [a].[NormalizedUserName], [a].[PasswordHash], [a].[PhoneNumber], [a].[PhoneNumberConfirmed], [a].[RefreshToken], [a].[RefreshTokenExpiryTime], [a].[SecurityStamp], [a].[TwoFactorEnabled], [a].[UserName], [a].[UserStatus]\r\nFROM [AspNetUsers] AS [a]\r\nORDER BY (SELECT 1)\r\nOFFSET @__p_0 ROWS FETCH NEXT @__p_1 ROWS ONLY","EventId":{"Id":20101,"Name":"Microsoft.EntityFrameworkCore.Database.Command.CommandExecuted"},"SourceContext":"Microsoft.EntityFrameworkCore.Database.Command","ActionId":"c86174b9-6e3a-41fc-868b-2c3b68ed53aa","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6ROO806UJ6:00000004","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:44.5990108+03:00","level":"Information","messageTemplate":"Executing {ObjectResultType}, writing value of type '{Type}'.","message":"Executing \"OkObjectResult\", writing value of type '\"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Domain.Entities.ApplicationUser, Modsen.Server.Authentication.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]\"'.","fields":{"ObjectResultType":"OkObjectResult","Type":"System.Collections.Generic.List`1[[Modsen.Server.Authentication.Domain.Entities.ApplicationUser, Modsen.Server.Authentication.Domain, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]","EventId":{"Id":1,"Name":"ObjectResultExecuting"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ObjectResultExecutor","ActionId":"c86174b9-6e3a-41fc-868b-2c3b68ed53aa","ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","RequestId":"0HN6ROO806UJ6:00000004","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:44.6100786+03:00","level":"Information","messageTemplate":"Executed action {ActionName} in {ElapsedMilliseconds}ms","message":"Executed action \"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\" in 61.6714ms","fields":{"ActionName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","ElapsedMilliseconds":61.6714,"EventId":{"Id":105,"Name":"ActionExecuted"},"SourceContext":"Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker","RequestId":"0HN6ROO806UJ6:00000004","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:44.6101821+03:00","level":"Information","messageTemplate":"Executed endpoint '{EndpointName}'","message":"Executed endpoint '\"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)\"'","fields":{"EndpointName":"Modsen.Server.Authentication.Api.Controllers.UsersController.GetUsers (Modsen.Server.Authentication.Api)","EventId":{"Id":1,"Name":"ExecutedEndpoint"},"SourceContext":"Microsoft.AspNetCore.Routing.EndpointMiddleware","RequestId":"0HN6ROO806UJ6:00000004","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
{"@timestamp":"2024-09-23T16:33:44.6103823+03:00","level":"Information","messageTemplate":"Request finished {Protocol} {Method} {Scheme}://{Host}{PathBase}{Path}{QueryString} - {StatusCode} {ContentLength} {ContentType} {ElapsedMilliseconds}ms","message":"Request finished \"HTTP/1.1\" \"GET\" \"http\"://\"localhost:5054\"\"\"\"/api/users\"\"?page=1&count=10\" - 200 null \"application/json; charset=utf-8\" 92.4094ms","fields":{"ElapsedMilliseconds":92.4094,"StatusCode":200,"ContentType":"application/json; charset=utf-8","ContentLength":null,"Protocol":"HTTP/1.1","Method":"GET","Scheme":"http","Host":"localhost:5054","PathBase":"","Path":"/api/users","QueryString":"?page=1&count=10","EventId":{"Id":2},"SourceContext":"Microsoft.AspNetCore.Hosting.Diagnostics","RequestId":"0HN6ROO806UJ6:00000004","RequestPath":"/api/users","ConnectionId":"0HN6ROO806UJ6"}}
